{
    "active_rule_avatar": "SELECT active_rules.active \nFROM active_rules JOIN (SELECT avatar_rules_handled.rulebook, avatar_rules_handled.rule, avatar_rules_handled.branch, MAX(avatar_rules_handled.tick) AS tick \nFROM avatar_rules_handled \nWHERE avatar_rules_handled.character = ? AND avatar_rules_handled.rulebook = ? AND avatar_rules_handled.rule = ? AND avatar_rules_handled.branch = ? AND avatar_rules_handled.tick <= ? GROUP BY avatar_rules_handled.rulebook, avatar_rules_handled.rule, avatar_rules_handled.branch) ON active_rules.rulebook = rulebook AND active_rules.rule = rule AND active_rules.branch = branch AND active_rules.tick = tick",
    "active_rule_character": "SELECT active_rules.active \nFROM active_rules JOIN (SELECT character_rules_handled.rulebook, character_rules_handled.rule, character_rules_handled.branch, MAX(character_rules_handled.tick) AS tick \nFROM character_rules_handled \nWHERE character_rules_handled.character = ? AND character_rules_handled.rulebook = ? AND character_rules_handled.rule = ? AND character_rules_handled.branch = ? AND character_rules_handled.tick <= ? GROUP BY character_rules_handled.rulebook, character_rules_handled.rule, character_rules_handled.branch) ON active_rules.rulebook = rulebook AND active_rules.rule = rule AND active_rules.branch = branch AND active_rules.tick = tick",
    "active_rule_character_node": "SELECT active_rules.active \nFROM active_rules JOIN (SELECT character_node_rules_handled.rulebook, character_node_rules_handled.rule, character_node_rules_handled.branch, MAX(character_node_rules_handled.tick) AS tick \nFROM character_node_rules_handled \nWHERE character_node_rules_handled.character = ? AND character_node_rules_handled.rulebook = ? AND character_node_rules_handled.rule = ? AND character_node_rules_handled.branch = ? AND character_node_rules_handled.tick <= ? GROUP BY character_node_rules_handled.rulebook, character_node_rules_handled.rule, character_node_rules_handled.branch) ON active_rules.rulebook = rulebook AND active_rules.rule = rule AND active_rules.branch = branch AND active_rules.tick = tick",
    "active_rule_character_place": "SELECT active_rules.active \nFROM active_rules JOIN (SELECT character_place_rules_handled.rulebook, character_place_rules_handled.rule, character_place_rules_handled.branch, MAX(character_place_rules_handled.tick) AS tick \nFROM character_place_rules_handled \nWHERE character_place_rules_handled.character = ? AND character_place_rules_handled.rulebook = ? AND character_place_rules_handled.rule = ? AND character_place_rules_handled.branch = ? AND character_place_rules_handled.tick <= ? GROUP BY character_place_rules_handled.rulebook, character_place_rules_handled.rule, character_place_rules_handled.branch) ON active_rules.rulebook = rulebook AND active_rules.rule = rule AND active_rules.branch = branch AND active_rules.tick = tick",
    "active_rule_character_portal": "SELECT active_rules.active \nFROM active_rules JOIN (SELECT character_portal_rules_handled.rulebook, character_portal_rules_handled.rule, character_portal_rules_handled.branch, MAX(character_portal_rules_handled.tick) AS tick \nFROM character_portal_rules_handled \nWHERE character_portal_rules_handled.character = ? AND character_portal_rules_handled.rulebook = ? AND character_portal_rules_handled.rule = ? AND character_portal_rules_handled.branch = ? AND character_portal_rules_handled.tick <= ? GROUP BY character_portal_rules_handled.rulebook, character_portal_rules_handled.rule, character_portal_rules_handled.branch) ON active_rules.rulebook = rulebook AND active_rules.rule = rule AND active_rules.branch = branch AND active_rules.tick = tick",
    "active_rule_character_thing": "SELECT active_rules.active \nFROM active_rules JOIN (SELECT character_thing_rules_handled.rulebook, character_thing_rules_handled.rule, character_thing_rules_handled.branch, MAX(character_thing_rules_handled.tick) AS tick \nFROM character_thing_rules_handled \nWHERE character_thing_rules_handled.character = ? AND character_thing_rules_handled.rulebook = ? AND character_thing_rules_handled.rule = ? AND character_thing_rules_handled.branch = ? AND character_thing_rules_handled.tick <= ? GROUP BY character_thing_rules_handled.rulebook, character_thing_rules_handled.rule, character_thing_rules_handled.branch) ON active_rules.rulebook = rulebook AND active_rules.rule = rule AND active_rules.branch = branch AND active_rules.tick = tick",
    "active_rule_rulebook": "SELECT active_rules.active \nFROM active_rules JOIN (SELECT active_rules.rulebook AS rulebook, active_rules.rule AS rule, active_rules.branch AS branch, MAX(active_rules.tick) AS tick \nFROM active_rules \nWHERE active_rules.rulebook = ? AND active_rules.rule = ? AND active_rules.branch = ? AND active_rules.tick <= ? GROUP BY active_rules.rulebook, active_rules.rule, active_rules.branch) AS hitick ON active_rules.rulebook = hitick.rulebook AND active_rules.rule = hitick.rule AND active_rules.branch = hitick.branch AND active_rules.tick = hitick.tick",
    "active_rules_ins": "INSERT INTO active_rules (rulebook, rule, branch, tick, active) VALUES (?, ?, ?, ?, ?)",
    "active_rules_rulebook": "SELECT active_rules.rule, active_rules.active \nFROM active_rules JOIN (SELECT active_rules.rulebook AS rulebook, active_rules.rule AS rule, active_rules.branch AS branch, MAX(active_rules.tick) AS tick \nFROM active_rules \nWHERE active_rules.rulebook = ? AND active_rules.branch = ? AND active_rules.tick <= ? GROUP BY active_rules.rulebook, active_rules.rule, active_rules.branch) AS hitick ON active_rules.rulebook = hitick.rulebook AND active_rules.rule = hitick.rule AND active_rules.branch = hitick.branch AND active_rules.tick = hitick.tick",
    "active_rules_upd": "UPDATE active_rules SET active=? WHERE active_rules.rulebook = ? AND active_rules.rule = ? AND active_rules.branch = ? AND active_rules.tick = ?",
    "allbranch": "SELECT branches.branch, branches.parent, branches.parent_rev \nFROM branches",
    "allrules": "SELECT rules.rule \nFROM rules",
    "arrival_time_get": "SELECT MAX(things.tick) AS \"MAX_1\" \nFROM things \nWHERE things.character = ? AND things.thing = ? AND things.location = ? AND things.branch = ? AND things.tick <= ?",
    "avatar_branch_data": "SELECT avatars.avatar_node, avatars.is_avatar \nFROM avatars JOIN (SELECT avatars.character_graph AS character_graph, avatars.avatar_graph AS avatar_graph, avatars.avatar_node AS avatar_node, avatars.branch AS branch, MAX(avatars.tick) AS tick \nFROM avatars \nWHERE avatars.character_graph = ? AND avatars.avatar_graph = ? AND avatars.branch = ? AND avatars.tick <= ? GROUP BY avatars.character_graph, avatars.avatar_graph, avatars.avatar_node, avatars.branch) AS hitick ON avatars.character_graph = hitick.character_graph AND avatars.avatar_graph = hitick.avatar_graph AND avatars.avatar_node = hitick.avatar_node AND avatars.branch = hitick.branch AND avatars.tick = hitick.tick",
    "avatar_ins": "INSERT INTO avatars (character_graph, avatar_graph, avatar_node, branch, tick, is_avatar) VALUES (?, ?, ?, ?, ?, ?)",
    "avatar_upd": "UPDATE avatars SET is_avatar=? WHERE avatars.character_graph = ? AND avatars.avatar_graph = ? AND avatars.avatar_node = ? AND avatars.branch = ? AND avatars.tick = ?",
    "avatar_users": "SELECT avatars.character_graph \nFROM avatars JOIN (SELECT avatars.character_graph AS character_graph, avatars.avatar_graph AS avatar_graph, avatars.avatar_node AS avatar_node, avatars.branch AS branch, MAX(avatars.tick) AS tick \nFROM avatars \nWHERE avatars.avatar_graph = ? AND avatars.avatar_node = ? AND avatars.branch = ? AND avatars.tick <= ? GROUP BY avatars.character_graph, avatars.avatar_graph, avatars.avatar_node, avatars.branch) AS hitick ON avatars.character_graph = hitick.character_graph AND avatars.avatar_graph = hitick.avatar_graph AND avatars.avatar_node = hitick.avatar_node AND avatars.branch = hitick.branch AND avatars.tick = hitick.tick",
    "avatarness": "SELECT avatars.avatar_graph, avatars.avatar_node, avatars.is_avatar \nFROM avatars JOIN (SELECT avatars.character_graph AS character_graph, avatars.avatar_graph AS avatar_graph, avatars.avatar_node AS avatar_node, avatars.branch AS branch, MAX(avatars.tick) AS tick \nFROM avatars \nWHERE avatars.character_graph = ? AND avatars.branch = ? AND avatars.tick <= ? GROUP BY avatars.character_graph, avatars.avatar_graph, avatars.avatar_node, avatars.branch) AS hitick ON avatars.character_graph = hitick.character_graph AND avatars.avatar_graph = hitick.avatar_graph AND avatars.avatar_node = hitick.avatar_node AND avatars.branch = hitick.branch AND avatars.tick = hitick.tick",
    "avatarness_dump": "SELECT avatars.character_graph, avatars.avatar_graph, avatars.avatar_node, avatars.branch, avatars.tick, avatars.is_avatar \nFROM avatars",
    "avatars_ever": "SELECT avatars.avatar_graph, avatars.avatar_node, avatars.branch, avatars.tick, avatars.is_avatar \nFROM avatars \nWHERE avatars.character_graph = ?",
    "avatars_now": "SELECT avatars.avatar_graph, avatars.avatar_node, avatars.is_avatar \nFROM avatars JOIN (SELECT avatars.character_graph AS character_graph, avatars.avatar_graph AS avatar_graph, avatars.avatar_node AS avatar_node, avatars.branch AS branch, MAX(avatars.tick) AS tick \nFROM avatars \nWHERE avatars.character_graph = ? AND avatars.branch = ? AND avatars.tick <= ? GROUP BY avatars.character_graph, avatars.avatar_graph, avatars.avatar_node, avatars.branch) AS hitick ON avatars.character_graph = hitick.character_graph AND avatars.avatar_graph = hitick.avatar_graph AND avatars.avatar_node = hitick.avatar_node AND avatars.branch = hitick.branch AND avatars.tick = hitick.tick LEFT OUTER JOIN (SELECT nodes.graph AS graph, nodes.node AS node, nodes.branch AS branch, nodes.rev AS rev, nodes.extant AS extant \nFROM nodes JOIN (SELECT nodes.graph AS graph, nodes.node AS node, nodes.branch AS branch, MAX(nodes.rev) AS rev \nFROM nodes \nWHERE nodes.rev <= ? AND nodes.graph = ? AND nodes.branch = ? GROUP BY nodes.graph, nodes.node, nodes.branch) AS ext_hirev ON nodes.graph = ext_hirev.graph AND nodes.node = ext_hirev.node AND nodes.branch = ext_hirev.branch AND nodes.rev = ext_hirev.rev) AS existence ON avatars.avatar_graph = existence.graph AND avatars.avatar_node = existence.node \nWHERE existence.extant = 1",
    "branch_children": "SELECT branches.branch \nFROM branches \nWHERE branches.parent = ?",
    "char_stat_branch_data": "SELECT graph_val.\"key\", graph_val.rev, graph_val.value \nFROM graph_val \nWHERE graph_val.graph = ? AND graph_val.branch = ?",
    "character_ins": "INSERT INTO characters (character, character_rulebook, avatar_rulebook, character_thing_rulebook, character_place_rulebook, character_node_rulebook, character_portal_rulebook) VALUES (?, ?, ?, ?, ?, ?, ?)",
    "character_rulebook": "SELECT characters.character_rulebook \nFROM characters \nWHERE characters.character = ?",
    "character_rulebooks": "SELECT characters.character_rulebook, characters.avatar_rulebook, characters.character_thing_rulebook, characters.character_place_rulebook, characters.character_node_rulebook, characters.character_portal_rulebook \nFROM characters \nWHERE characters.character = ?",
    "character_things_items": "SELECT things.thing, things.location \nFROM things JOIN (SELECT things.character AS character, things.thing AS thing, things.branch AS branch, MAX(things.tick) AS tick \nFROM things \nWHERE things.character = ? AND things.branch = ? AND things.tick <= ? GROUP BY things.character, things.thing, things.branch) AS hitick ON things.character = hitick.character AND things.thing = hitick.thing AND things.branch = hitick.branch AND things.tick = hitick.tick",
    "characters": "SELECT characters.character \nFROM characters",
    "characters_rulebooks": "SELECT characters.character, characters.character_rulebook, characters.avatar_rulebook, characters.character_thing_rulebook, characters.character_place_rulebook, characters.character_node_rulebook, characters.character_portal_rulebook \nFROM characters",
    "count_all_actions": "SELECT count(name) AS tbl_row_count \nFROM (SELECT actions.name AS name, actions.base AS base, actions.keywords AS keywords, actions.bytecode AS bytecode, actions.date AS date, actions.creator AS creator, actions.contributor AS contributor, actions.description AS description, actions.plaincode AS plaincode, actions.version AS version \nFROM actions)",
    "count_all_active_rules": "SELECT count(rulebook) AS tbl_row_count \nFROM (SELECT active_rules.rulebook AS rulebook, active_rules.rule AS rule, active_rules.branch AS branch, active_rules.tick AS tick, active_rules.date AS date, active_rules.contributor AS contributor, active_rules.description AS description, active_rules.active AS active \nFROM active_rules)",
    "count_all_avatar_rules_handled": "SELECT count(character) AS tbl_row_count \nFROM (SELECT avatar_rules_handled.character AS character, avatar_rules_handled.rulebook AS rulebook, avatar_rules_handled.rule AS rule, avatar_rules_handled.branch AS branch, avatar_rules_handled.tick AS tick \nFROM avatar_rules_handled)",
    "count_all_avatars": "SELECT count(character_graph) AS tbl_row_count \nFROM (SELECT avatars.character_graph AS character_graph, avatars.avatar_graph AS avatar_graph, avatars.avatar_node AS avatar_node, avatars.branch AS branch, avatars.tick AS tick, avatars.date AS date, avatars.contributor AS contributor, avatars.description AS description, avatars.is_avatar AS is_avatar \nFROM avatars)",
    "count_all_branches": "SELECT count(branch) AS tbl_row_count \nFROM (SELECT branches.branch AS branch, branches.date AS date, branches.creator AS creator, branches.description AS description, branches.parent AS parent, branches.parent_rev AS parent_rev \nFROM branches)",
    "count_all_character_node_rules_handled": "SELECT count(character) AS tbl_row_count \nFROM (SELECT character_node_rules_handled.character AS character, character_node_rules_handled.rulebook AS rulebook, character_node_rules_handled.rule AS rule, character_node_rules_handled.branch AS branch, character_node_rules_handled.tick AS tick \nFROM character_node_rules_handled)",
    "count_all_character_place_rules_handled": "SELECT count(character) AS tbl_row_count \nFROM (SELECT character_place_rules_handled.character AS character, character_place_rules_handled.rulebook AS rulebook, character_place_rules_handled.rule AS rule, character_place_rules_handled.branch AS branch, character_place_rules_handled.tick AS tick \nFROM character_place_rules_handled)",
    "count_all_character_portal_rules_handled": "SELECT count(character) AS tbl_row_count \nFROM (SELECT character_portal_rules_handled.character AS character, character_portal_rules_handled.rulebook AS rulebook, character_portal_rules_handled.rule AS rule, character_portal_rules_handled.branch AS branch, character_portal_rules_handled.tick AS tick \nFROM character_portal_rules_handled)",
    "count_all_character_rules_handled": "SELECT count(character) AS tbl_row_count \nFROM (SELECT character_rules_handled.character AS character, character_rules_handled.rulebook AS rulebook, character_rules_handled.rule AS rule, character_rules_handled.branch AS branch, character_rules_handled.tick AS tick \nFROM character_rules_handled)",
    "count_all_character_thing_rules_handled": "SELECT count(character) AS tbl_row_count \nFROM (SELECT character_thing_rules_handled.character AS character, character_thing_rules_handled.rulebook AS rulebook, character_thing_rules_handled.rule AS rule, character_thing_rules_handled.branch AS branch, character_thing_rules_handled.tick AS tick \nFROM character_thing_rules_handled)",
    "count_all_characters": "SELECT count(character) AS tbl_row_count \nFROM (SELECT characters.character AS character, characters.date AS date, characters.creator AS creator, characters.description AS description, characters.character_rulebook AS character_rulebook, characters.avatar_rulebook AS avatar_rulebook, characters.character_thing_rulebook AS character_thing_rulebook, characters.character_place_rulebook AS character_place_rulebook, characters.character_node_rulebook AS character_node_rulebook, characters.character_portal_rulebook AS character_portal_rulebook \nFROM characters)",
    "count_all_edge_val": "SELECT count(graph) AS tbl_row_count \nFROM (SELECT edge_val.graph AS graph, edge_val.\"nodeA\" AS \"nodeA\", edge_val.\"nodeB\" AS \"nodeB\", edge_val.idx AS idx, edge_val.\"key\" AS \"key\", edge_val.branch AS branch, edge_val.rev AS rev, edge_val.date AS date, edge_val.contributor AS contributor, edge_val.description AS description, edge_val.value AS value \nFROM edge_val)",
    "count_all_edges": "SELECT count(graph) AS tbl_row_count \nFROM (SELECT edges.graph AS graph, edges.\"nodeA\" AS \"nodeA\", edges.\"nodeB\" AS \"nodeB\", edges.idx AS idx, edges.branch AS branch, edges.rev AS rev, edges.date AS date, edges.creator AS creator, edges.description AS description, edges.extant AS extant \nFROM edges)",
    "count_all_functions": "SELECT count(name) AS tbl_row_count \nFROM (SELECT functions.name AS name, functions.base AS base, functions.keywords AS keywords, functions.bytecode AS bytecode, functions.date AS date, functions.creator AS creator, functions.contributor AS contributor, functions.description AS description, functions.plaincode AS plaincode, functions.version AS version \nFROM functions)",
    "count_all_global": "SELECT count(\"key\") AS tbl_row_count \nFROM (SELECT global.\"key\" AS \"key\", global.date AS date, global.creator AS creator, global.description AS description, global.value AS value \nFROM global)",
    "count_all_graph_val": "SELECT count(graph) AS tbl_row_count \nFROM (SELECT graph_val.graph AS graph, graph_val.\"key\" AS \"key\", graph_val.branch AS branch, graph_val.rev AS rev, graph_val.date AS date, graph_val.contributor AS contributor, graph_val.description AS description, graph_val.value AS value \nFROM graph_val)",
    "count_all_graphs": "SELECT count(graph) AS tbl_row_count \nFROM (SELECT graphs.graph AS graph, graphs.date AS date, graphs.creator AS creator, graphs.description AS description, graphs.type AS type \nFROM graphs)",
    "count_all_lise_globals": "SELECT count(\"key\") AS tbl_row_count \nFROM (SELECT lise_globals.\"key\" AS \"key\", lise_globals.branch AS branch, lise_globals.tick AS tick, lise_globals.date AS date, lise_globals.creator AS creator, lise_globals.description AS description, lise_globals.value AS value \nFROM lise_globals)",
    "count_all_node_rulebook": "SELECT count(character) AS tbl_row_count \nFROM (SELECT node_rulebook.character AS character, node_rulebook.node AS node, node_rulebook.date AS date, node_rulebook.contributor AS contributor, node_rulebook.description AS description, node_rulebook.rulebook AS rulebook \nFROM node_rulebook)",
    "count_all_node_val": "SELECT count(graph) AS tbl_row_count \nFROM (SELECT node_val.graph AS graph, node_val.node AS node, node_val.\"key\" AS \"key\", node_val.branch AS branch, node_val.rev AS rev, node_val.date AS date, node_val.contributor AS contributor, node_val.description AS description, node_val.value AS value \nFROM node_val)",
    "count_all_nodes": "SELECT count(graph) AS tbl_row_count \nFROM (SELECT nodes.graph AS graph, nodes.node AS node, nodes.branch AS branch, nodes.rev AS rev, nodes.date AS date, nodes.creator AS creator, nodes.description AS description, nodes.extant AS extant \nFROM nodes)",
    "count_all_place_rules_handled": "SELECT count(character) AS tbl_row_count \nFROM (SELECT place_rules_handled.character AS character, place_rules_handled.place AS place, place_rules_handled.rulebook AS rulebook, place_rules_handled.rule AS rule, place_rules_handled.branch AS branch, place_rules_handled.tick AS tick \nFROM place_rules_handled)",
    "count_all_portal_rulebook": "SELECT count(character) AS tbl_row_count \nFROM (SELECT portal_rulebook.character AS character, portal_rulebook.\"nodeA\" AS \"nodeA\", portal_rulebook.\"nodeB\" AS \"nodeB\", portal_rulebook.idx AS idx, portal_rulebook.date AS date, portal_rulebook.contributor AS contributor, portal_rulebook.description AS description, portal_rulebook.rulebook AS rulebook \nFROM portal_rulebook)",
    "count_all_portal_rules_handled": "SELECT count(character) AS tbl_row_count \nFROM (SELECT portal_rules_handled.character AS character, portal_rules_handled.\"nodeA\" AS \"nodeA\", portal_rules_handled.\"nodeB\" AS \"nodeB\", portal_rules_handled.idx AS idx, portal_rules_handled.rulebook AS rulebook, portal_rules_handled.rule AS rule, portal_rules_handled.branch AS branch, portal_rules_handled.tick AS tick \nFROM portal_rules_handled)",
    "count_all_prereqs": "SELECT count(name) AS tbl_row_count \nFROM (SELECT prereqs.name AS name, prereqs.base AS base, prereqs.keywords AS keywords, prereqs.bytecode AS bytecode, prereqs.date AS date, prereqs.creator AS creator, prereqs.contributor AS contributor, prereqs.description AS description, prereqs.plaincode AS plaincode, prereqs.version AS version \nFROM prereqs)",
    "count_all_rule_actions": "SELECT count(rule) AS tbl_row_count \nFROM (SELECT rule_actions.rule AS rule, rule_actions.idx AS idx, rule_actions.action AS action \nFROM rule_actions)",
    "count_all_rule_prereqs": "SELECT count(rule) AS tbl_row_count \nFROM (SELECT rule_prereqs.rule AS rule, rule_prereqs.idx AS idx, rule_prereqs.prereq AS prereq \nFROM rule_prereqs)",
    "count_all_rule_triggers": "SELECT count(rule) AS tbl_row_count \nFROM (SELECT rule_triggers.rule AS rule, rule_triggers.idx AS idx, rule_triggers.\"trigger\" AS \"trigger\" \nFROM rule_triggers)",
    "count_all_rulebooks": "SELECT count(rulebook) AS tbl_row_count \nFROM (SELECT rulebooks.rulebook AS rulebook, rulebooks.idx AS idx, rulebooks.date AS date, rulebooks.contributor AS contributor, rulebooks.description AS description, rulebooks.rule AS rule \nFROM rulebooks)",
    "count_all_rules": "SELECT count(rule) AS tbl_row_count \nFROM (SELECT rules.rule AS rule, rules.date AS date, rules.creator AS creator, rules.description AS description \nFROM rules)",
    "count_all_senses": "SELECT count(character) AS tbl_row_count \nFROM (SELECT senses.character AS character, senses.sense AS sense, senses.branch AS branch, senses.tick AS tick, senses.date AS date, senses.contributor AS contributor, senses.description AS description, senses.function AS function, senses.active AS active \nFROM senses)",
    "count_all_strings": "SELECT count(id) AS tbl_row_count \nFROM (SELECT strings.id AS id, strings.language AS language, strings.date AS date, strings.creator AS creator, strings.description AS description, strings.string AS string \nFROM strings)",
    "count_all_thing_rules_handled": "SELECT count(character) AS tbl_row_count \nFROM (SELECT thing_rules_handled.character AS character, thing_rules_handled.thing AS thing, thing_rules_handled.rulebook AS rulebook, thing_rules_handled.rule AS rule, thing_rules_handled.branch AS branch, thing_rules_handled.tick AS tick \nFROM thing_rules_handled)",
    "count_all_things": "SELECT count(character) AS tbl_row_count \nFROM (SELECT things.character AS character, things.thing AS thing, things.branch AS branch, things.tick AS tick, things.date AS date, things.contributor AS contributor, things.description AS description, things.location AS location, things.next_location AS next_location \nFROM things)",
    "count_all_travel_reqs": "SELECT count(character) AS tbl_row_count \nFROM (SELECT travel_reqs.character AS character, travel_reqs.date AS date, travel_reqs.contributor AS contributor, travel_reqs.description AS description, travel_reqs.reqs AS reqs \nFROM travel_reqs)",
    "count_all_triggers": "SELECT count(name) AS tbl_row_count \nFROM (SELECT triggers.name AS name, triggers.base AS base, triggers.keywords AS keywords, triggers.bytecode AS bytecode, triggers.date AS date, triggers.creator AS creator, triggers.contributor AS contributor, triggers.description AS description, triggers.plaincode AS plaincode, triggers.version AS version \nFROM triggers)",
    "create_actions": "\nCREATE TABLE actions (\n\tname VARCHAR(50) NOT NULL, \n\tbase VARCHAR(50), \n\tkeywords VARCHAR(50) NOT NULL, \n\tbytecode VARCHAR(50), \n\tdate DATETIME, \n\tcreator VARCHAR(50), \n\tcontributor VARCHAR(50), \n\tdescription VARCHAR(50), \n\tplaincode VARCHAR(50), \n\tversion VARCHAR(50), \n\tPRIMARY KEY (name), \n\tFOREIGN KEY(base) REFERENCES actions (name), \n\tCHECK (bytecode IS NOT NULL OR plaincode IS NOT NULL)\n)\n\n",
    "create_active_rules": "\nCREATE TABLE active_rules (\n\trulebook VARCHAR(50) NOT NULL, \n\trule VARCHAR(50) NOT NULL, \n\tbranch VARCHAR(50) NOT NULL, \n\ttick INTEGER NOT NULL, \n\tdate DATETIME, \n\tcontributor VARCHAR(50), \n\tdescription VARCHAR(50), \n\tactive BOOLEAN, \n\tPRIMARY KEY (rulebook, rule, branch, tick), \n\tFOREIGN KEY(rulebook, rule) REFERENCES rulebooks (rulebook, rule), \n\tCHECK (active IN (0, 1))\n)\n\n",
    "create_avatar_rules_handled": "\nCREATE TABLE avatar_rules_handled (\n\tcharacter VARCHAR(50) NOT NULL, \n\trulebook VARCHAR(50) NOT NULL, \n\trule VARCHAR(50) NOT NULL, \n\tbranch VARCHAR(50) NOT NULL, \n\ttick INTEGER NOT NULL, \n\tPRIMARY KEY (character, rulebook, rule, branch, tick), \n\tFOREIGN KEY(character, rulebook) REFERENCES characters (character, avatar_rulebook)\n)\n\n",
    "create_avatars": "\nCREATE TABLE avatars (\n\tcharacter_graph VARCHAR(50) NOT NULL, \n\tavatar_graph VARCHAR(50) NOT NULL, \n\tavatar_node VARCHAR(50) NOT NULL, \n\tbranch VARCHAR(50) NOT NULL, \n\ttick INTEGER NOT NULL, \n\tdate DATETIME, \n\tcontributor VARCHAR(50), \n\tdescription VARCHAR(50), \n\tis_avatar BOOLEAN, \n\tPRIMARY KEY (character_graph, avatar_graph, avatar_node, branch, tick), \n\tFOREIGN KEY(character_graph) REFERENCES graphs (graph), \n\tFOREIGN KEY(avatar_graph, avatar_node) REFERENCES nodes (graph, node), \n\tCHECK (is_avatar IN (0, 1))\n)\n\n",
    "create_branches": "\nCREATE TABLE branches (\n\tbranch VARCHAR(50) NOT NULL, \n\tdate DATETIME, \n\tcreator VARCHAR(50), \n\tdescription VARCHAR(50), \n\tparent VARCHAR(50), \n\tparent_rev INTEGER, \n\tPRIMARY KEY (branch), \n\tFOREIGN KEY(branch) REFERENCES branches (parent)\n)\n\n",
    "create_character_node_rules_handled": "\nCREATE TABLE character_node_rules_handled (\n\tcharacter VARCHAR(50) NOT NULL, \n\trulebook VARCHAR(50) NOT NULL, \n\trule VARCHAR(50) NOT NULL, \n\tbranch VARCHAR(50) NOT NULL, \n\ttick INTEGER NOT NULL, \n\tPRIMARY KEY (character, rulebook, rule, branch, tick), \n\tFOREIGN KEY(character, rulebook) REFERENCES characters (character, character_node_rulebook)\n)\n\n",
    "create_character_place_rules_handled": "\nCREATE TABLE character_place_rules_handled (\n\tcharacter VARCHAR(50) NOT NULL, \n\trulebook VARCHAR(50) NOT NULL, \n\trule VARCHAR(50) NOT NULL, \n\tbranch VARCHAR(50) NOT NULL, \n\ttick INTEGER NOT NULL, \n\tPRIMARY KEY (character, rulebook, rule, branch, tick), \n\tFOREIGN KEY(character, rulebook) REFERENCES characters (character, character_place_rulebook)\n)\n\n",
    "create_character_portal_rules_handled": "\nCREATE TABLE character_portal_rules_handled (\n\tcharacter VARCHAR(50) NOT NULL, \n\trulebook VARCHAR(50) NOT NULL, \n\trule VARCHAR(50) NOT NULL, \n\tbranch VARCHAR(50) NOT NULL, \n\ttick INTEGER NOT NULL, \n\tPRIMARY KEY (character, rulebook, rule, branch, tick), \n\tFOREIGN KEY(character, rulebook) REFERENCES characters (character, character_portal_rulebook)\n)\n\n",
    "create_character_rules_handled": "\nCREATE TABLE character_rules_handled (\n\tcharacter VARCHAR(50) NOT NULL, \n\trulebook VARCHAR(50) NOT NULL, \n\trule VARCHAR(50) NOT NULL, \n\tbranch VARCHAR(50) NOT NULL, \n\ttick INTEGER NOT NULL, \n\tPRIMARY KEY (character, rulebook, rule, branch, tick), \n\tFOREIGN KEY(character, rulebook) REFERENCES characters (character, character_rulebook)\n)\n\n",
    "create_character_thing_rules_handled": "\nCREATE TABLE character_thing_rules_handled (\n\tcharacter VARCHAR(50) NOT NULL, \n\trulebook VARCHAR(50) NOT NULL, \n\trule VARCHAR(50) NOT NULL, \n\tbranch VARCHAR(50) NOT NULL, \n\ttick INTEGER NOT NULL, \n\tPRIMARY KEY (character, rulebook, rule, branch, tick), \n\tFOREIGN KEY(character, rulebook) REFERENCES characters (character, character_thing_rulebook)\n)\n\n",
    "create_characters": "\nCREATE TABLE characters (\n\tcharacter VARCHAR(50) NOT NULL, \n\tdate DATETIME, \n\tcreator VARCHAR(50), \n\tdescription VARCHAR(50), \n\tcharacter_rulebook VARCHAR(50) NOT NULL, \n\tavatar_rulebook VARCHAR(50) NOT NULL, \n\tcharacter_thing_rulebook VARCHAR(50) NOT NULL, \n\tcharacter_place_rulebook VARCHAR(50) NOT NULL, \n\tcharacter_node_rulebook VARCHAR(50) NOT NULL, \n\tcharacter_portal_rulebook VARCHAR(50) NOT NULL, \n\tPRIMARY KEY (character), \n\tFOREIGN KEY(character) REFERENCES graphs (graph), \n\tFOREIGN KEY(character_rulebook) REFERENCES rulebooks (rulebook), \n\tFOREIGN KEY(avatar_rulebook) REFERENCES rulebooks (rulebook), \n\tFOREIGN KEY(character_thing_rulebook) REFERENCES rulebooks (rulebook), \n\tFOREIGN KEY(character_place_rulebook) REFERENCES rulebooks (rulebook), \n\tFOREIGN KEY(character_portal_rulebook) REFERENCES rulebooks (rulebook)\n)\n\n",
    "create_edge_val": "\nCREATE TABLE edge_val (\n\tgraph VARCHAR(50) NOT NULL, \n\t\"nodeA\" VARCHAR(50) NOT NULL, \n\t\"nodeB\" VARCHAR(50) NOT NULL, \n\tidx INTEGER NOT NULL, \n\t\"key\" VARCHAR(50) NOT NULL, \n\tbranch VARCHAR(50) NOT NULL, \n\trev INTEGER NOT NULL, \n\tdate DATETIME, \n\tcontributor VARCHAR(50), \n\tdescription VARCHAR(50), \n\tvalue VARCHAR(50), \n\tPRIMARY KEY (graph, \"nodeA\", \"nodeB\", idx, \"key\", branch, rev), \n\tFOREIGN KEY(graph, \"nodeA\", \"nodeB\", idx) REFERENCES edges (graph, \"nodeA\", \"nodeB\", idx), \n\tFOREIGN KEY(branch) REFERENCES branches (branch)\n)\n\n",
    "create_edges": "\nCREATE TABLE edges (\n\tgraph VARCHAR(50) NOT NULL, \n\t\"nodeA\" VARCHAR(50) NOT NULL, \n\t\"nodeB\" VARCHAR(50) NOT NULL, \n\tidx INTEGER NOT NULL, \n\tbranch VARCHAR(50) NOT NULL, \n\trev INTEGER NOT NULL, \n\tdate DATETIME, \n\tcreator VARCHAR(50), \n\tdescription VARCHAR(50), \n\textant BOOLEAN, \n\tPRIMARY KEY (graph, \"nodeA\", \"nodeB\", idx, branch, rev), \n\tFOREIGN KEY(graph, \"nodeA\") REFERENCES nodes (graph, node), \n\tFOREIGN KEY(graph, \"nodeB\") REFERENCES nodes (graph, node), \n\tFOREIGN KEY(graph) REFERENCES graphs (graph), \n\tFOREIGN KEY(branch) REFERENCES branches (branch), \n\tCHECK (extant IN (0, 1))\n)\n\n",
    "create_functions": "\nCREATE TABLE functions (\n\tname VARCHAR(50) NOT NULL, \n\tbase VARCHAR(50), \n\tkeywords VARCHAR(50) NOT NULL, \n\tbytecode VARCHAR(50), \n\tdate DATETIME, \n\tcreator VARCHAR(50), \n\tcontributor VARCHAR(50), \n\tdescription VARCHAR(50), \n\tplaincode VARCHAR(50), \n\tversion VARCHAR(50), \n\tPRIMARY KEY (name), \n\tFOREIGN KEY(base) REFERENCES functions (name), \n\tCHECK (bytecode IS NOT NULL OR plaincode IS NOT NULL)\n)\n\n",
    "create_global": "\nCREATE TABLE global (\n\t\"key\" VARCHAR(50) NOT NULL, \n\tdate DATETIME, \n\tcreator VARCHAR(50), \n\tdescription VARCHAR(50), \n\tvalue VARCHAR(50), \n\tPRIMARY KEY (\"key\")\n)\n\n",
    "create_graph_val": "\nCREATE TABLE graph_val (\n\tgraph VARCHAR(50) NOT NULL, \n\t\"key\" VARCHAR(50) NOT NULL, \n\tbranch VARCHAR(50) NOT NULL, \n\trev INTEGER NOT NULL, \n\tdate DATETIME, \n\tcontributor VARCHAR(50), \n\tdescription VARCHAR(50), \n\tvalue VARCHAR(50), \n\tPRIMARY KEY (graph, \"key\", branch, rev), \n\tFOREIGN KEY(graph) REFERENCES graphs (graph), \n\tFOREIGN KEY(branch) REFERENCES branches (branch)\n)\n\n",
    "create_graphs": "\nCREATE TABLE graphs (\n\tgraph VARCHAR(50) NOT NULL, \n\tdate DATETIME, \n\tcreator VARCHAR(50), \n\tdescription VARCHAR(50), \n\ttype VARCHAR(50), \n\tPRIMARY KEY (graph), \n\tCHECK (type IN ('Graph', 'DiGraph', 'MultiGraph', 'MultiDiGraph'))\n)\n\n",
    "create_lise_globals": "\nCREATE TABLE lise_globals (\n\t\"key\" VARCHAR(50) NOT NULL, \n\tbranch VARCHAR(50) NOT NULL, \n\ttick INTEGER NOT NULL, \n\tdate DATETIME, \n\tcreator VARCHAR(50), \n\tdescription VARCHAR(50), \n\tvalue VARCHAR(50), \n\tPRIMARY KEY (\"key\", branch, tick)\n)\n\n",
    "create_node_rulebook": "\nCREATE TABLE node_rulebook (\n\tcharacter VARCHAR(50) NOT NULL, \n\tnode VARCHAR(50) NOT NULL, \n\tdate DATETIME, \n\tcontributor VARCHAR(50), \n\tdescription VARCHAR(50), \n\trulebook VARCHAR(50), \n\tPRIMARY KEY (character, node), \n\tFOREIGN KEY(character, node) REFERENCES nodes (graph, node)\n)\n\n",
    "create_node_val": "\nCREATE TABLE node_val (\n\tgraph VARCHAR(50) NOT NULL, \n\tnode VARCHAR(50) NOT NULL, \n\t\"key\" VARCHAR(50) NOT NULL, \n\tbranch VARCHAR(50) NOT NULL, \n\trev INTEGER NOT NULL, \n\tdate DATETIME, \n\tcontributor VARCHAR(50), \n\tdescription VARCHAR(50), \n\tvalue VARCHAR(50), \n\tPRIMARY KEY (graph, node, \"key\", branch, rev), \n\tFOREIGN KEY(graph, node) REFERENCES nodes (graph, node), \n\tFOREIGN KEY(branch) REFERENCES branches (branch)\n)\n\n",
    "create_nodes": "\nCREATE TABLE nodes (\n\tgraph VARCHAR(50) NOT NULL, \n\tnode VARCHAR(50) NOT NULL, \n\tbranch VARCHAR(50) NOT NULL, \n\trev INTEGER NOT NULL, \n\tdate DATETIME, \n\tcreator VARCHAR(50), \n\tdescription VARCHAR(50), \n\textant BOOLEAN, \n\tPRIMARY KEY (graph, node, branch, rev), \n\tFOREIGN KEY(graph) REFERENCES graphs (graph), \n\tFOREIGN KEY(branch) REFERENCES branches (branch), \n\tCHECK (extant IN (0, 1))\n)\n\n",
    "create_place_rules_handled": "\nCREATE TABLE place_rules_handled (\n\tcharacter VARCHAR(50) NOT NULL, \n\tplace VARCHAR(50) NOT NULL, \n\trulebook VARCHAR(50) NOT NULL, \n\trule VARCHAR(50) NOT NULL, \n\tbranch VARCHAR(50) NOT NULL, \n\ttick INTEGER NOT NULL, \n\tPRIMARY KEY (character, place, rulebook, rule, branch, tick)\n)\n\n",
    "create_portal_rulebook": "\nCREATE TABLE portal_rulebook (\n\tcharacter VARCHAR(50) NOT NULL, \n\t\"nodeA\" VARCHAR(50) NOT NULL, \n\t\"nodeB\" VARCHAR(50) NOT NULL, \n\tidx INTEGER NOT NULL, \n\tdate DATETIME, \n\tcontributor VARCHAR(50), \n\tdescription VARCHAR(50), \n\trulebook VARCHAR(50), \n\tPRIMARY KEY (character, \"nodeA\", \"nodeB\", idx), \n\tFOREIGN KEY(character, \"nodeA\", \"nodeB\", idx) REFERENCES edges (graph, \"nodeA\", \"nodeB\", idx)\n)\n\n",
    "create_portal_rules_handled": "\nCREATE TABLE portal_rules_handled (\n\tcharacter VARCHAR(50) NOT NULL, \n\t\"nodeA\" VARCHAR(50) NOT NULL, \n\t\"nodeB\" VARCHAR(50) NOT NULL, \n\tidx INTEGER NOT NULL, \n\trulebook VARCHAR(50) NOT NULL, \n\trule VARCHAR(50) NOT NULL, \n\tbranch VARCHAR(50) NOT NULL, \n\ttick INTEGER NOT NULL, \n\tPRIMARY KEY (character, \"nodeA\", \"nodeB\", idx, rulebook, rule, branch, tick)\n)\n\n",
    "create_prereqs": "\nCREATE TABLE prereqs (\n\tname VARCHAR(50) NOT NULL, \n\tbase VARCHAR(50), \n\tkeywords VARCHAR(50) NOT NULL, \n\tbytecode VARCHAR(50), \n\tdate DATETIME, \n\tcreator VARCHAR(50), \n\tcontributor VARCHAR(50), \n\tdescription VARCHAR(50), \n\tplaincode VARCHAR(50), \n\tversion VARCHAR(50), \n\tPRIMARY KEY (name), \n\tFOREIGN KEY(base) REFERENCES prereqs (name), \n\tCHECK (bytecode IS NOT NULL OR plaincode IS NOT NULL)\n)\n\n",
    "create_rule_actions": "\nCREATE TABLE rule_actions (\n\trule VARCHAR(50) NOT NULL, \n\tidx INTEGER NOT NULL, \n\taction VARCHAR(50) NOT NULL, \n\tPRIMARY KEY (rule, idx), \n\tFOREIGN KEY(rule) REFERENCES rules (rule), \n\tFOREIGN KEY(action) REFERENCES actions (name)\n)\n\n",
    "create_rule_prereqs": "\nCREATE TABLE rule_prereqs (\n\trule VARCHAR(50) NOT NULL, \n\tidx INTEGER NOT NULL, \n\tprereq VARCHAR(50) NOT NULL, \n\tPRIMARY KEY (rule, idx), \n\tFOREIGN KEY(rule) REFERENCES rules (rule), \n\tFOREIGN KEY(prereq) REFERENCES prereqs (name)\n)\n\n",
    "create_rule_triggers": "\nCREATE TABLE rule_triggers (\n\trule VARCHAR(50) NOT NULL, \n\tidx INTEGER NOT NULL, \n\t\"trigger\" VARCHAR(50) NOT NULL, \n\tPRIMARY KEY (rule, idx), \n\tFOREIGN KEY(rule) REFERENCES rules (rule), \n\tFOREIGN KEY(\"trigger\") REFERENCES triggers (name)\n)\n\n",
    "create_rulebooks": "\nCREATE TABLE rulebooks (\n\trulebook VARCHAR(50) NOT NULL, \n\tidx INTEGER NOT NULL, \n\tdate DATETIME, \n\tcontributor VARCHAR(50), \n\tdescription VARCHAR(50), \n\trule VARCHAR(50), \n\tPRIMARY KEY (rulebook, idx), \n\tFOREIGN KEY(rule) REFERENCES rules (rule)\n)\n\n",
    "create_rules": "\nCREATE TABLE rules (\n\trule VARCHAR(50) NOT NULL, \n\tdate DATETIME, \n\tcreator VARCHAR(50), \n\tdescription VARCHAR(50), \n\tPRIMARY KEY (rule)\n)\n\n",
    "create_senses": "\nCREATE TABLE senses (\n\tcharacter VARCHAR(50), \n\tsense VARCHAR(50) NOT NULL, \n\tbranch VARCHAR(50) NOT NULL, \n\ttick INTEGER NOT NULL, \n\tdate DATETIME, \n\tcontributor VARCHAR(50), \n\tdescription VARCHAR(50), \n\tfunction VARCHAR(50), \n\tactive BOOLEAN, \n\tPRIMARY KEY (character, sense, branch, tick), \n\tFOREIGN KEY(character) REFERENCES graphs (graph), \n\tCHECK (active IN (0, 1))\n)\n\n",
    "create_strings": "\nCREATE TABLE strings (\n\tid VARCHAR(50) NOT NULL, \n\tlanguage VARCHAR(50) NOT NULL, \n\tdate DATETIME, \n\tcreator VARCHAR(50), \n\tdescription VARCHAR(50), \n\tstring VARCHAR(50), \n\tPRIMARY KEY (id, language)\n)\n\n",
    "create_thing_rules_handled": "\nCREATE TABLE thing_rules_handled (\n\tcharacter VARCHAR(50) NOT NULL, \n\tthing VARCHAR(50) NOT NULL, \n\trulebook VARCHAR(50) NOT NULL, \n\trule VARCHAR(50) NOT NULL, \n\tbranch VARCHAR(50) NOT NULL, \n\ttick INTEGER NOT NULL, \n\tPRIMARY KEY (character, thing, rulebook, rule, branch, tick)\n)\n\n",
    "create_things": "\nCREATE TABLE things (\n\tcharacter VARCHAR(50) NOT NULL, \n\tthing VARCHAR(50) NOT NULL, \n\tbranch VARCHAR(50) NOT NULL, \n\ttick INTEGER NOT NULL, \n\tdate DATETIME, \n\tcontributor VARCHAR(50), \n\tdescription VARCHAR(50), \n\tlocation VARCHAR(50), \n\tnext_location VARCHAR(50), \n\tPRIMARY KEY (character, thing, branch, tick), \n\tFOREIGN KEY(character, thing) REFERENCES nodes (graph, node), \n\tFOREIGN KEY(character, location) REFERENCES nodes (graph, node), \n\tFOREIGN KEY(character, next_location) REFERENCES nodes (graph, node)\n)\n\n",
    "create_travel_reqs": "\nCREATE TABLE travel_reqs (\n\tcharacter VARCHAR(50), \n\tdate DATETIME, \n\tcontributor VARCHAR(50), \n\tdescription VARCHAR(50), \n\treqs VARCHAR(50), \n\tPRIMARY KEY (character), \n\tFOREIGN KEY(character) REFERENCES graphs (graph)\n)\n\n",
    "create_triggers": "\nCREATE TABLE triggers (\n\tname VARCHAR(50) NOT NULL, \n\tbase VARCHAR(50), \n\tkeywords VARCHAR(50) NOT NULL, \n\tbytecode VARCHAR(50), \n\tdate DATETIME, \n\tcreator VARCHAR(50), \n\tcontributor VARCHAR(50), \n\tdescription VARCHAR(50), \n\tplaincode VARCHAR(50), \n\tversion VARCHAR(50), \n\tPRIMARY KEY (name), \n\tFOREIGN KEY(base) REFERENCES triggers (name), \n\tCHECK (bytecode IS NOT NULL OR plaincode IS NOT NULL)\n)\n\n",
    "ct_character": "SELECT COUNT(characters.character) AS \"COUNT_1\" \nFROM characters \nWHERE characters.character = ?",
    "ct_characters": "SELECT COUNT(characters.character) AS \"COUNT_1\" \nFROM characters",
    "ct_rulebook_rules": "SELECT COUNT(rulebooks.rule) AS \"COUNT_1\" \nFROM rulebooks \nWHERE rulebooks.rulebook = ?",
    "ct_rulebooks": "SELECT COUNT(DISTINCT rulebooks.rulebook) AS \"COUNT_1\" \nFROM rulebooks",
    "ctbranch": "SELECT COUNT(branches.branch) AS \"COUNT_1\" \nFROM branches \nWHERE branches.branch = ?",
    "ctglobal": "SELECT COUNT(global.\"key\") AS \"COUNT_1\" \nFROM global",
    "ctgraph": "SELECT COUNT(graphs.graph) AS \"COUNT_1\" \nFROM graphs \nWHERE graphs.graph = ?",
    "ctrules": "SELECT COUNT() AS \"COUNT_1\" \nFROM rules",
    "current_rules_avatar": "SELECT characters.avatar_rulebook, active_rules.active \nFROM characters JOIN (active_rules JOIN (SELECT active_rules.rulebook AS rulebook, active_rules.rule AS rule, active_rules.branch AS branch, MAX(active_rules.tick) AS tick \nFROM active_rules \nWHERE active_rules.branch = ? AND active_rules.tick <= ? GROUP BY active_rules.rulebook, active_rules.rule, active_rules.branch) AS hitick ON active_rules.rulebook = hitick.rulebook AND active_rules.rule = hitick.rule AND active_rules.branch = hitick.branch AND active_rules.tick = hitick.tick) ON characters.avatar_rulebook = active_rules.rulebook \nWHERE characters.character = ?",
    "current_rules_character": "SELECT characters.character_rulebook, active_rules.active \nFROM characters JOIN (active_rules JOIN (SELECT active_rules.rulebook AS rulebook, active_rules.rule AS rule, active_rules.branch AS branch, MAX(active_rules.tick) AS tick \nFROM active_rules \nWHERE active_rules.branch = ? AND active_rules.tick <= ? GROUP BY active_rules.rulebook, active_rules.rule, active_rules.branch) AS hitick ON active_rules.rulebook = hitick.rulebook AND active_rules.rule = hitick.rule AND active_rules.branch = hitick.branch AND active_rules.tick = hitick.tick) ON characters.character_rulebook = active_rules.rulebook \nWHERE characters.character = ?",
    "current_rules_character_node": "SELECT characters.character_node_rulebook, active_rules.active \nFROM characters JOIN (active_rules JOIN (SELECT active_rules.rulebook AS rulebook, active_rules.rule AS rule, active_rules.branch AS branch, MAX(active_rules.tick) AS tick \nFROM active_rules \nWHERE active_rules.branch = ? AND active_rules.tick <= ? GROUP BY active_rules.rulebook, active_rules.rule, active_rules.branch) AS hitick ON active_rules.rulebook = hitick.rulebook AND active_rules.rule = hitick.rule AND active_rules.branch = hitick.branch AND active_rules.tick = hitick.tick) ON characters.character_node_rulebook = active_rules.rulebook \nWHERE characters.character = ?",
    "current_rules_character_place": "SELECT characters.character_place_rulebook, active_rules.active \nFROM characters JOIN (active_rules JOIN (SELECT active_rules.rulebook AS rulebook, active_rules.rule AS rule, active_rules.branch AS branch, MAX(active_rules.tick) AS tick \nFROM active_rules \nWHERE active_rules.branch = ? AND active_rules.tick <= ? GROUP BY active_rules.rulebook, active_rules.rule, active_rules.branch) AS hitick ON active_rules.rulebook = hitick.rulebook AND active_rules.rule = hitick.rule AND active_rules.branch = hitick.branch AND active_rules.tick = hitick.tick) ON characters.character_place_rulebook = active_rules.rulebook \nWHERE characters.character = ?",
    "current_rules_character_portal": "SELECT characters.character_portal_rulebook, active_rules.active \nFROM characters JOIN (active_rules JOIN (SELECT active_rules.rulebook AS rulebook, active_rules.rule AS rule, active_rules.branch AS branch, MAX(active_rules.tick) AS tick \nFROM active_rules \nWHERE active_rules.branch = ? AND active_rules.tick <= ? GROUP BY active_rules.rulebook, active_rules.rule, active_rules.branch) AS hitick ON active_rules.rulebook = hitick.rulebook AND active_rules.rule = hitick.rule AND active_rules.branch = hitick.branch AND active_rules.tick = hitick.tick) ON characters.character_portal_rulebook = active_rules.rulebook \nWHERE characters.character = ?",
    "current_rules_character_thing": "SELECT characters.character_thing_rulebook, active_rules.active \nFROM characters JOIN (active_rules JOIN (SELECT active_rules.rulebook AS rulebook, active_rules.rule AS rule, active_rules.branch AS branch, MAX(active_rules.tick) AS tick \nFROM active_rules \nWHERE active_rules.branch = ? AND active_rules.tick <= ? GROUP BY active_rules.rulebook, active_rules.rule, active_rules.branch) AS hitick ON active_rules.rulebook = hitick.rulebook AND active_rules.rule = hitick.rule AND active_rules.branch = hitick.branch AND active_rules.tick = hitick.tick) ON characters.character_thing_rulebook = active_rules.rulebook \nWHERE characters.character = ?",
    "current_rules_node": "SELECT node_rulebook.rulebook, active_rules.active \nFROM node_rulebook JOIN (active_rules JOIN (SELECT active_rules.rulebook AS rulebook, active_rules.rule AS rule, active_rules.branch AS branch, MAX(active_rules.tick) AS tick \nFROM active_rules \nWHERE active_rules.branch = ? AND active_rules.tick <= ? GROUP BY active_rules.rulebook, active_rules.rule, active_rules.branch) AS hitick ON active_rules.rulebook = hitick.rulebook AND active_rules.rule = hitick.rule AND active_rules.branch = hitick.branch AND active_rules.tick = hitick.tick) ON node_rulebook.rulebook = active_rules.rulebook \nWHERE node_rulebook.character = ? AND node_rulebook.node = ?",
    "current_rules_portal": "SELECT portal_rulebook.rulebook, active_rules.active \nFROM portal_rulebook JOIN (active_rules JOIN (SELECT active_rules.rulebook AS rulebook, active_rules.rule AS rule, active_rules.branch AS branch, MAX(active_rules.tick) AS tick \nFROM active_rules \nWHERE active_rules.branch = ? AND active_rules.tick <= ? GROUP BY active_rules.rulebook, active_rules.rule, active_rules.branch) AS hitick ON active_rules.rulebook = hitick.rulebook AND active_rules.rule = hitick.rule AND active_rules.branch = hitick.branch AND active_rules.tick = hitick.tick) ON portal_rulebook.rulebook = active_rules.rulebook \nWHERE portal_rulebook.character = ? AND portal_rulebook.\"nodeA\" = ? AND portal_rulebook.\"nodeB\" = ?",
    "del_char_avatars": "DELETE FROM avatars WHERE avatars.character_graph = ?",
    "del_char_things": "DELETE FROM things WHERE things.character = ?",
    "del_edge_val_graph": "DELETE FROM edge_val WHERE edge_val.graph = ?",
    "del_graph": "DELETE FROM graphs WHERE graphs.graph = ?",
    "del_node_graph": "DELETE FROM nodes WHERE nodes.graph = ?",
    "del_node_val_graph": "DELETE FROM node_val WHERE node_val.graph = ?",
    "del_rule": "DELETE FROM rules WHERE rules.rule = ?",
    "dump_active_rules": "SELECT active_rules.rulebook, active_rules.rule, active_rules.branch, active_rules.tick, active_rules.active \nFROM active_rules",
    "dump_node_rules_handled": "SELECT character, node, rulebook, rule, branch, tick \nFROM (SELECT place_rules_handled.character AS character, place_rules_handled.place AS node, place_rules_handled.rulebook AS rulebook, place_rules_handled.rule AS rule, place_rules_handled.branch AS branch, place_rules_handled.tick AS tick \nFROM place_rules_handled UNION SELECT thing_rules_handled.character AS character, thing_rules_handled.thing AS node, thing_rules_handled.rulebook AS rulebook, thing_rules_handled.rule AS rule, thing_rules_handled.branch AS branch, thing_rules_handled.tick AS tick \nFROM thing_rules_handled)",
    "dump_portal_rules_handled": "SELECT portal_rules_handled.character, portal_rules_handled.\"nodeA\", portal_rules_handled.\"nodeB\", portal_rules_handled.idx, portal_rules_handled.rulebook, portal_rules_handled.rule, portal_rules_handled.branch, portal_rules_handled.tick \nFROM portal_rules_handled",
    "edge_exist_ins": "INSERT INTO edges (graph, \"nodeA\", \"nodeB\", idx, branch, rev, extant) VALUES (?, ?, ?, ?, ?, ?, ?)",
    "edge_exist_upd": "UPDATE edges SET extant=? WHERE edges.graph = ? AND edges.\"nodeA\" = ? AND edges.\"nodeB\" = ? AND edges.idx = ? AND edges.branch = ? AND edges.rev = ?",
    "edge_exists": "SELECT edges.extant \nFROM edges JOIN (SELECT edges.graph AS graph, edges.\"nodeA\" AS \"nodeA\", edges.\"nodeB\" AS \"nodeB\", edges.idx AS idx, edges.branch AS branch, MAX(edges.rev) AS rev \nFROM edges \nWHERE edges.graph = ? AND edges.\"nodeA\" = ? AND edges.\"nodeB\" = ? AND edges.idx = ? AND edges.branch = ? AND edges.rev <= ? GROUP BY edges.graph, edges.\"nodeA\", edges.\"nodeB\", edges.idx, edges.branch) AS hirev ON edges.graph = hirev.graph AND edges.\"nodeA\" = hirev.\"nodeA\" AND edges.\"nodeB\" = hirev.\"nodeB\" AND edges.idx = hirev.idx AND edges.branch = hirev.branch AND edges.rev = hirev.rev",
    "edge_stat_branch_data": "SELECT edge_val.\"key\", edge_val.rev, edge_val.value \nFROM edge_val \nWHERE edge_val.graph = ? AND edge_val.\"nodeA\" = ? AND edge_val.\"nodeB\" = ? AND edge_val.branch = ?",
    "edge_val_dump": "SELECT edge_val.graph, edge_val.\"nodeA\", edge_val.\"nodeB\", edge_val.idx, edge_val.\"key\", edge_val.branch, edge_val.rev, edge_val.value \nFROM edge_val",
    "edge_val_get": "SELECT edge_val.value \nFROM edge_val JOIN (SELECT edge_val.graph AS graph, edge_val.\"nodeA\" AS \"nodeA\", edge_val.\"nodeB\" AS \"nodeB\", edge_val.idx AS idx, edge_val.\"key\" AS \"key\", edge_val.branch AS branch, MAX(edge_val.rev) AS rev \nFROM edge_val \nWHERE edge_val.graph = ? AND edge_val.\"nodeA\" = ? AND edge_val.\"nodeB\" = ? AND edge_val.idx = ? AND edge_val.\"key\" = ? AND edge_val.branch = ? AND edge_val.rev <= ? GROUP BY edge_val.graph, edge_val.\"nodeA\", edge_val.\"nodeB\", edge_val.idx, edge_val.\"key\", edge_val.branch) AS hirev ON edge_val.graph = hirev.graph AND edge_val.\"nodeA\" = hirev.\"nodeA\" AND edge_val.\"nodeB\" = hirev.\"nodeB\" AND edge_val.idx = hirev.idx AND edge_val.branch = hirev.branch AND edge_val.rev = hirev.rev",
    "edge_val_ins": "INSERT INTO edge_val (graph, \"nodeA\", \"nodeB\", idx, \"key\", branch, rev, value) VALUES (?, ?, ?, ?, ?, ?, ?, ?)",
    "edge_val_items": "SELECT edge_val.\"key\", edge_val.value \nFROM edge_val JOIN (SELECT edge_val.graph AS graph, edge_val.\"nodeA\" AS \"nodeA\", edge_val.\"nodeB\" AS \"nodeB\", edge_val.idx AS idx, edge_val.\"key\" AS \"key\", edge_val.branch AS branch, MAX(edge_val.rev) AS rev \nFROM edge_val \nWHERE edge_val.graph = ? AND edge_val.\"nodeA\" = ? AND edge_val.\"nodeB\" = ? AND edge_val.idx = ? AND edge_val.branch = ? AND edge_val.rev <= ? GROUP BY edge_val.graph, edge_val.\"nodeA\", edge_val.\"nodeB\", edge_val.idx, edge_val.\"key\", edge_val.branch) AS hirev ON edge_val.graph = hirev.graph AND edge_val.\"nodeA\" = hirev.\"nodeA\" AND edge_val.\"nodeB\" = hirev.\"nodeB\" AND edge_val.idx = hirev.idx AND edge_val.branch = hirev.branch AND edge_val.rev = hirev.rev",
    "edge_val_upd": "UPDATE edge_val SET value=? WHERE edge_val.graph = ? AND edge_val.\"nodeA\" = ? AND edge_val.\"nodeB\" = ? AND edge_val.idx = ? AND edge_val.branch = ? AND edge_val.rev = ?",
    "edges_dump": "SELECT edges.graph, edges.\"nodeA\", edges.\"nodeB\", edges.idx, edges.branch, edges.rev, edges.extant \nFROM edges",
    "edges_extant": "SELECT edges.\"nodeA\", edges.extant \nFROM edges JOIN (SELECT edges.graph AS graph, edges.\"nodeA\" AS \"nodeA\", edges.\"nodeB\" AS \"nodeB\", edges.idx AS idx, edges.branch AS branch, MAX(edges.rev) AS rev \nFROM edges \nWHERE edges.graph = ? AND edges.branch = ? AND edges.rev <= ? GROUP BY edges.graph, edges.\"nodeA\", edges.\"nodeB\", edges.idx, edges.branch) AS hirev ON edges.graph = hirev.graph AND edges.\"nodeA\" = hirev.\"nodeA\" AND edges.\"nodeB\" = hirev.\"nodeB\" AND edges.idx = hirev.idx AND edges.branch = hirev.branch AND edges.rev = hirev.rev",
    "exist_node_ins": "INSERT INTO nodes (graph, node, branch, rev, extant) VALUES (?, ?, ?, ?, ?)",
    "exist_node_upd": "UPDATE nodes SET extant=? WHERE nodes.graph = ? AND nodes.node = ? AND nodes.branch = ? AND nodes.rev = ?",
    "func_actions_del": "DELETE FROM actions WHERE actions.name = ?",
    "func_actions_get": "SELECT actions.bytecode, actions.date, actions.creator, actions.contributor, actions.description, actions.plaincode, actions.version \nFROM actions \nWHERE actions.name = ?",
    "func_actions_ins": "INSERT INTO actions (name, keywords, bytecode, plaincode) VALUES (?, ?, ?, ?)",
    "func_actions_iter": "SELECT actions.name \nFROM actions",
    "func_actions_name_plaincode": "SELECT actions.name, actions.plaincode \nFROM actions",
    "func_actions_upd": "UPDATE actions SET keywords=?, bytecode=?, plaincode=? WHERE actions.name = ?",
    "func_functions_del": "DELETE FROM functions WHERE functions.name = ?",
    "func_functions_get": "SELECT functions.bytecode, functions.date, functions.creator, functions.contributor, functions.description, functions.plaincode, functions.version \nFROM functions \nWHERE functions.name = ?",
    "func_functions_ins": "INSERT INTO functions (name, keywords, bytecode, plaincode) VALUES (?, ?, ?, ?)",
    "func_functions_iter": "SELECT functions.name \nFROM functions",
    "func_functions_name_plaincode": "SELECT functions.name, functions.plaincode \nFROM functions",
    "func_functions_upd": "UPDATE functions SET keywords=?, bytecode=?, plaincode=? WHERE functions.name = ?",
    "func_prereqs_del": "DELETE FROM prereqs WHERE prereqs.name = ?",
    "func_prereqs_get": "SELECT prereqs.bytecode, prereqs.date, prereqs.creator, prereqs.contributor, prereqs.description, prereqs.plaincode, prereqs.version \nFROM prereqs \nWHERE prereqs.name = ?",
    "func_prereqs_ins": "INSERT INTO prereqs (name, keywords, bytecode, plaincode) VALUES (?, ?, ?, ?)",
    "func_prereqs_iter": "SELECT prereqs.name \nFROM prereqs",
    "func_prereqs_name_plaincode": "SELECT prereqs.name, prereqs.plaincode \nFROM prereqs",
    "func_prereqs_upd": "UPDATE prereqs SET keywords=?, bytecode=?, plaincode=? WHERE prereqs.name = ?",
    "func_triggers_del": "DELETE FROM triggers WHERE triggers.name = ?",
    "func_triggers_get": "SELECT triggers.bytecode, triggers.date, triggers.creator, triggers.contributor, triggers.description, triggers.plaincode, triggers.version \nFROM triggers \nWHERE triggers.name = ?",
    "func_triggers_ins": "INSERT INTO triggers (name, keywords, bytecode, plaincode) VALUES (?, ?, ?, ?)",
    "func_triggers_iter": "SELECT triggers.name \nFROM triggers",
    "func_triggers_name_plaincode": "SELECT triggers.name, triggers.plaincode \nFROM triggers",
    "func_triggers_upd": "UPDATE triggers SET keywords=?, bytecode=?, plaincode=? WHERE triggers.name = ?",
    "global_del": "DELETE FROM global WHERE global.\"key\" = ?",
    "global_get": "SELECT global.value \nFROM global \nWHERE global.\"key\" = ?",
    "global_ins": "INSERT INTO global (\"key\", value) VALUES (?, ?)",
    "global_items": "SELECT global.\"key\", global.value \nFROM global",
    "global_upd": "UPDATE global SET value=? WHERE global.\"key\" = ?",
    "graph_type": "SELECT graphs.type \nFROM graphs \nWHERE graphs.graph = ?",
    "graph_val_dump": "SELECT graph_val.graph, graph_val.\"key\", graph_val.branch, graph_val.rev, graph_val.value \nFROM graph_val",
    "graph_val_get": "SELECT graph_val.value \nFROM graph_val JOIN (SELECT graph_val.graph AS graph, graph_val.\"key\" AS \"key\", graph_val.branch AS branch, MAX(graph_val.rev) AS rev \nFROM graph_val \nWHERE graph_val.graph = ? AND graph_val.\"key\" = ? AND graph_val.branch = ? AND graph_val.rev <= ? GROUP BY graph_val.graph, graph_val.\"key\", graph_val.branch) AS hirev ON graph_val.graph = hirev.graph AND graph_val.\"key\" = hirev.\"key\" AND graph_val.branch = hirev.branch AND graph_val.rev = hirev.rev",
    "graph_val_ins": "INSERT INTO graph_val (graph, \"key\", branch, rev, value) VALUES (?, ?, ?, ?, ?)",
    "graph_val_items": "SELECT graph_val.\"key\", graph_val.value \nFROM graph_val JOIN (SELECT graph_val.graph AS graph, graph_val.\"key\" AS \"key\", graph_val.branch AS branch, MAX(graph_val.rev) AS rev \nFROM graph_val \nWHERE graph_val.graph = ? AND graph_val.branch = ? AND graph_val.rev <= ? GROUP BY graph_val.graph, graph_val.\"key\", graph_val.branch) AS hirev ON graph_val.graph = hirev.graph AND graph_val.\"key\" = hirev.\"key\" AND graph_val.branch = hirev.branch AND graph_val.rev = hirev.rev",
    "graph_val_upd": "UPDATE graph_val SET value=? WHERE graph_val.graph = ? AND graph_val.\"key\" = ? AND graph_val.branch = ? AND graph_val.rev = ?",
    "handled_avatar_rule": "INSERT INTO avatar_rules_handled (character, rulebook, rule, branch, tick) VALUES (?, ?, ?, ?, ?)",
    "handled_avatar_rules": "SELECT avatar_rules_handled.character, avatar_rules_handled.rulebook, avatar_rules_handled.rule, avatar_rules_handled.branch, avatar_rules_handled.tick \nFROM avatar_rules_handled",
    "handled_character_node_rule": "INSERT INTO character_node_rules_handled (character, rulebook, rule, branch, tick) VALUES (?, ?, ?, ?, ?)",
    "handled_character_node_rules": "SELECT character_node_rules_handled.character, character_node_rules_handled.rulebook, character_node_rules_handled.rule, character_node_rules_handled.branch, character_node_rules_handled.tick \nFROM character_node_rules_handled",
    "handled_character_place_rule": "INSERT INTO character_place_rules_handled (character, rulebook, rule, branch, tick) VALUES (?, ?, ?, ?, ?)",
    "handled_character_place_rules": "SELECT character_place_rules_handled.character, character_place_rules_handled.rulebook, character_place_rules_handled.rule, character_place_rules_handled.branch, character_place_rules_handled.tick \nFROM character_place_rules_handled",
    "handled_character_portal_rule": "INSERT INTO character_portal_rules_handled (character, rulebook, rule, branch, tick) VALUES (?, ?, ?, ?, ?)",
    "handled_character_portal_rules": "SELECT character_portal_rules_handled.character, character_portal_rules_handled.rulebook, character_portal_rules_handled.rule, character_portal_rules_handled.branch, character_portal_rules_handled.tick \nFROM character_portal_rules_handled",
    "handled_character_rule": "INSERT INTO character_rules_handled (character, rulebook, rule, branch, tick) VALUES (?, ?, ?, ?, ?)",
    "handled_character_rules": "SELECT character_rules_handled.character, character_rules_handled.rulebook, character_rules_handled.rule, character_rules_handled.branch, character_rules_handled.tick \nFROM character_rules_handled",
    "handled_character_thing_rule": "INSERT INTO character_thing_rules_handled (character, rulebook, rule, branch, tick) VALUES (?, ?, ?, ?, ?)",
    "handled_character_thing_rules": "SELECT character_thing_rules_handled.character, character_thing_rules_handled.rulebook, character_thing_rules_handled.rule, character_thing_rules_handled.branch, character_thing_rules_handled.tick \nFROM character_thing_rules_handled",
    "handled_place_rule": "INSERT INTO place_rules_handled (character, place, rulebook, rule, branch, tick) VALUES (?, ?, ?, ?, ?, ?)",
    "handled_portal_rule": "INSERT INTO portal_rules_handled (character, \"nodeA\", \"nodeB\", idx, rulebook, rule, branch, tick) VALUES (?, ?, ?, ?, ?, ?, ?, ?)",
    "handled_thing_rule": "INSERT INTO thing_rules_handled (character, thing, rulebook, rule, branch, tick) VALUES (?, ?, ?, ?, ?, ?)",
    "haverule": "SELECT rules.rule \nFROM rules \nWHERE rules.rule = ?",
    "index_active_rules": "CREATE INDEX active_rules_idx ON active_rules (rulebook, rule)",
    "index_avatar_rules_handled": "CREATE INDEX avatar_rules_handled_idx ON avatar_rules_handled (character, rulebook, rule)",
    "index_avatars": "CREATE INDEX avatars_idx ON avatars (character_graph, avatar_graph, avatar_node)",
    "index_character_node_rules_handled": "CREATE INDEX character_node_rules_handled_idx ON character_node_rules_handled (character, rulebook, rule)",
    "index_character_place_rules_handled": "CREATE INDEX character_place_rules_handled_idx ON character_place_rules_handled (character, rulebook, rule)",
    "index_character_portal_rules_handled": "CREATE INDEX character_portal_rules_handled_idx ON character_portal_rules_handled (character, rulebook, rule)",
    "index_character_rules_handled": "CREATE INDEX character_rules_handled_idx ON character_rules_handled (character, rulebook, rule)",
    "index_character_thing_rules_handled": "CREATE INDEX character_thing_rules_handled_idx ON character_thing_rules_handled (character, rulebook, rule)",
    "index_edge_val": "CREATE INDEX edge_val_idx ON edge_val (graph, \"nodeA\", \"nodeB\", idx, \"key\")",
    "index_edges": "CREATE INDEX edges_idx ON edges (graph, \"nodeA\", \"nodeB\", idx)",
    "index_graph_val": "CREATE INDEX graph_val_idx ON graph_val (graph, \"key\")",
    "index_node_val": "CREATE INDEX node_val_idx ON node_val (graph, node)",
    "index_nodes": "CREATE INDEX nodes_idx ON nodes (graph, node)",
    "index_place_rules_handled": "CREATE INDEX place_rules_handled_idx ON place_rules_handled (character, place, rulebook, rule)",
    "index_portal_rules_handled": "CREATE INDEX portal_rules_handled_idx ON portal_rules_handled (character, \"nodeA\", \"nodeB\", idx, rulebook, rule)",
    "index_senses": "CREATE INDEX senses_idx ON senses (character, sense)",
    "index_thing_rules_handled": "CREATE INDEX thing_rules_handled_idx ON thing_rules_handled (character, thing, rulebook, rule)",
    "index_things": "CREATE INDEX things_idx ON things (character, thing)",
    "index_travel_reqs": "CREATE INDEX travel_reqs_idx ON travel_reqs (character)",
    "ins_node_rulebook": "INSERT INTO node_rulebook (character, node, rulebook) VALUES (?, ?, ?)",
    "ins_portal_rulebook": "INSERT INTO portal_rulebook (character, \"nodeA\", \"nodeB\", idx, rulebook) VALUES (?, ?, ?, ?, ?)",
    "ins_rule": "INSERT INTO rules (rule, date, creator, description) VALUES (?, ?, ?, ?)",
    "ins_travel_reqs": "INSERT INTO travel_reqs (character, reqs) VALUES (?, ?)",
    "is_avatar_of": "SELECT avatars.is_avatar \nFROM avatars JOIN (SELECT avatars.character_graph AS character_graph, avatars.avatar_graph AS avatar_graph, avatars.avatar_node AS avatar_node, avatars.branch AS branch, MAX(avatars.tick) AS tick \nFROM avatars \nWHERE avatars.character_graph = ? AND avatars.avatar_graph = ? AND avatars.avatar_node = ? AND avatars.branch = ? AND avatars.tick <= ? GROUP BY avatars.character_graph, avatars.avatar_graph, avatars.avatar_node, avatars.branch) AS hitick ON avatars.character_graph = hitick.character_graph AND avatars.avatar_graph = hitick.avatar_graph AND avatars.avatar_node = hitick.avatar_node AND avatars.branch = hitick.branch AND avatars.tick = hitick.tick",
    "multi_edges": "SELECT edges.idx, edges.extant \nFROM edges JOIN (SELECT edges.graph AS graph, edges.\"nodeA\" AS \"nodeA\", edges.\"nodeB\" AS \"nodeB\", edges.idx AS idx, edges.branch AS branch, MAX(edges.rev) AS rev \nFROM edges \nWHERE edges.graph = ? AND edges.\"nodeA\" = ? AND edges.\"nodeB\" = ? AND edges.branch = ? AND edges.rev <= ? GROUP BY edges.graph, edges.\"nodeA\", edges.\"nodeB\", edges.idx, edges.branch) AS hirev ON edges.graph = hirev.graph AND edges.\"nodeA\" = hirev.\"nodeA\" AND edges.\"nodeB\" = hirev.\"nodeB\" AND edges.idx = hirev.idx AND edges.branch = hirev.branch AND edges.rev = hirev.rev",
    "new_branch": "INSERT INTO branches (branch, parent, parent_rev) VALUES (?, ?, ?)",
    "new_graph": "INSERT INTO graphs (graph, type) VALUES (?, ?)",
    "next_arrival_time_get": "SELECT MIN(things.tick) AS \"MIN_1\" \nFROM things \nWHERE things.character = ? AND things.thing = ? AND things.location = ? AND things.branch = ? AND things.tick > ?",
    "nodeAs": "SELECT edges.\"nodeA\", edges.extant \nFROM edges JOIN (SELECT edges.graph AS graph, edges.\"nodeA\" AS \"nodeA\", edges.\"nodeB\" AS \"nodeB\", edges.idx AS idx, edges.branch AS branch, MAX(edges.rev) AS rev \nFROM edges \nWHERE edges.graph = ? AND edges.\"nodeB\" = ? AND edges.branch = ? AND edges.rev <= ? GROUP BY edges.graph, edges.\"nodeA\", edges.\"nodeB\", edges.idx, edges.branch) AS hirev ON edges.graph = hirev.graph AND edges.\"nodeA\" = hirev.\"nodeA\" AND edges.\"nodeB\" = hirev.\"nodeB\" AND edges.idx = hirev.idx AND edges.branch = hirev.branch AND edges.rev = hirev.rev",
    "nodeBs": "SELECT edges.\"nodeB\", edges.extant \nFROM edges JOIN (SELECT edges.graph AS graph, edges.\"nodeA\" AS \"nodeA\", edges.\"nodeB\" AS \"nodeB\", edges.idx AS idx, edges.branch AS branch, MAX(edges.rev) AS rev \nFROM edges \nWHERE edges.graph = ? AND edges.\"nodeA\" = ? AND edges.branch = ? AND edges.rev <= ? GROUP BY edges.graph, edges.\"nodeA\", edges.\"nodeB\", edges.idx, edges.branch) AS hirev ON edges.graph = hirev.graph AND edges.\"nodeA\" = hirev.\"nodeA\" AND edges.\"nodeB\" = hirev.\"nodeB\" AND edges.idx = hirev.idx AND edges.branch = hirev.branch AND edges.rev = hirev.rev",
    "node_exists": "SELECT nodes.extant \nFROM nodes JOIN (SELECT nodes.graph AS graph, nodes.node AS node, nodes.branch AS branch, MAX(nodes.rev) AS rev \nFROM nodes \nWHERE nodes.graph = ? AND nodes.node = ? AND nodes.branch = ? AND nodes.rev <= ? GROUP BY nodes.graph, nodes.node, nodes.branch) AS hirev ON nodes.graph = hirev.graph AND nodes.node = hirev.node AND nodes.branch = hirev.branch AND nodes.rev = hirev.rev",
    "node_is_thing": "SELECT things.location \nFROM things JOIN (SELECT things.character AS character, things.thing AS thing, things.branch AS branch, MAX(things.tick) AS tick \nFROM things \nWHERE things.character = ? AND things.thing = ? AND things.branch = ? AND things.tick <= ? GROUP BY things.character, things.thing, things.branch) AS hitick ON things.character = hitick.character AND things.thing = hitick.thing AND things.branch = hitick.branch AND things.tick = hitick.tick",
    "node_rulebook": "SELECT node_rulebook.rulebook \nFROM node_rulebook \nWHERE node_rulebook.character = ? AND node_rulebook.node = ?",
    "node_rules": "SELECT node_rulebook.character, node_rulebook.node, node_rulebook.rulebook, curactrule.rule, curactrule.active \nFROM node_rulebook JOIN rulebooks ON rulebooks.rulebook = node_rulebook.rulebook JOIN (SELECT active_rules.rulebook AS rulebook, active_rules.rule AS rule, active_rules.branch AS branch, active_rules.tick AS tick, active_rules.active AS active \nFROM active_rules JOIN (SELECT active_rules.rulebook AS rulebook, active_rules.rule AS rule, active_rules.branch AS branch, MAX(active_rules.tick) AS tick \nFROM active_rules \nWHERE active_rules.branch = ? AND active_rules.tick <= ? GROUP BY active_rules.rulebook, active_rules.rule, active_rules.branch) AS hitick ON active_rules.rulebook = hitick.rulebook AND active_rules.rule = hitick.rule AND active_rules.branch = hitick.branch AND active_rules.tick = hitick.tick) AS curactrule ON rulebooks.rulebook = curactrule.rulebook AND rulebooks.rule = curactrule.rule LEFT OUTER JOIN (SELECT character AS character, node AS node, rulebook AS rulebook, rule AS rule, \"1\" AS handled \nFROM (SELECT place_rules_handled.character AS character, place_rules_handled.place AS node, place_rules_handled.rulebook AS rulebook, place_rules_handled.rule AS rule, place_rules_handled.branch AS branch, place_rules_handled.tick AS tick \nFROM place_rules_handled UNION SELECT thing_rules_handled.character AS character, thing_rules_handled.thing AS node, thing_rules_handled.rulebook AS rulebook, thing_rules_handled.rule AS rule, thing_rules_handled.branch AS branch, thing_rules_handled.tick AS tick \nFROM thing_rules_handled) \nWHERE branch = ? AND tick = ?) AS nrhandle ON node_rulebook.character = nrhandle.character AND node_rulebook.node = nrhandle.node AND node_rulebook.rulebook = nrhandle.rulebook AND curactrule.rule = nrhandle.rule \nWHERE nrhandle.handled IS NULL AND node_rulebook.character = ? AND node_rulebook.node = ? ORDER BY node_rulebook.character, node_rulebook.node, rulebooks.rulebook, rulebooks.idx",
    "node_stat_branch_data": "SELECT node_val.\"key\", node_val.rev, node_val.value \nFROM node_val \nWHERE node_val.graph = ? AND node_val.node = ? AND node_val.branch = ?",
    "node_val_data_branch": "SELECT node_val.\"key\", node_val.rev, node_val.value \nFROM node_val \nWHERE node_val.graph = ? AND node_val.node = ? AND node_val.branch = ?",
    "node_val_dump": "SELECT node_val.graph, node_val.node, node_val.\"key\", node_val.branch, node_val.rev, node_val.value \nFROM node_val",
    "node_val_get": "SELECT node_val.value \nFROM node_val JOIN (SELECT node_val.graph AS graph, node_val.node AS node, node_val.branch AS branch, node_val.\"key\" AS \"key\", MAX(node_val.rev) AS rev \nFROM node_val \nWHERE node_val.graph = ? AND node_val.node = ? AND node_val.\"key\" = ? AND node_val.branch = ? AND node_val.rev <= ? GROUP BY node_val.graph, node_val.node, node_val.branch, node_val.\"key\") AS hirev ON node_val.graph = hirev.graph AND node_val.node = hirev.node AND node_val.\"key\" = hirev.\"key\" AND node_val.branch = hirev.branch AND node_val.rev = hirev.rev \nWHERE node_val.value IS NOT NULL",
    "node_val_ins": "INSERT INTO node_val (graph, node, \"key\", branch, rev, value) VALUES (?, ?, ?, ?, ?, ?)",
    "node_val_items": "SELECT node_val.\"key\", node_val.value \nFROM node_val JOIN (SELECT node_val.graph AS graph, node_val.node AS node, node_val.branch AS branch, node_val.\"key\" AS \"key\", MAX(node_val.rev) AS rev \nFROM node_val \nWHERE node_val.graph = ? AND node_val.node = ? AND node_val.branch = ? AND node_val.rev <= ? GROUP BY node_val.graph, node_val.node, node_val.branch, node_val.\"key\") AS hirev ON node_val.graph = hirev.graph AND node_val.node = hirev.node AND node_val.\"key\" = hirev.\"key\" AND node_val.branch = hirev.branch AND node_val.rev = hirev.rev",
    "node_val_upd": "UPDATE node_val SET value=? WHERE node_val.graph = ? AND node_val.node = ? AND node_val.\"key\" = ? AND node_val.branch = ? AND node_val.rev = ?",
    "nodes_dump": "SELECT nodes.graph, nodes.node, nodes.branch, nodes.rev, nodes.extant \nFROM nodes",
    "nodes_extant": "SELECT nodes.node \nFROM nodes JOIN (SELECT nodes.graph AS graph, nodes.node AS node, nodes.branch AS branch, MAX(nodes.rev) AS rev \nFROM nodes \nWHERE nodes.graph = ? AND nodes.branch = ? AND nodes.rev <= ? GROUP BY nodes.graph, nodes.node, nodes.branch) AS hirev ON nodes.graph = hirev.graph AND nodes.node = hirev.node AND nodes.branch = hirev.branch AND nodes.rev = hirev.rev \nWHERE nodes.extant = 1",
    "nodes_rulebooks": "SELECT node_rulebook.character, node_rulebook.node, node_rulebook.rulebook \nFROM node_rulebook",
    "parparrev": "SELECT branches.parent, branches.parent_rev \nFROM branches \nWHERE branches.branch = ?",
    "parrev": "SELECT branches.parent_rev \nFROM branches \nWHERE branches.branch = ?",
    "poll_avatar_rules": "SELECT characters.character, characters.avatar_rulebook, curactrule.rule, curactrule.active, handle.handled \nFROM characters JOIN (SELECT active_rules.rulebook AS rulebook, active_rules.rule AS rule, active_rules.branch AS branch, active_rules.tick AS tick, active_rules.active AS active \nFROM active_rules JOIN (SELECT active_rules.rulebook AS rulebook, active_rules.rule AS rule, active_rules.branch AS branch, MAX(active_rules.tick) AS tick \nFROM active_rules \nWHERE active_rules.branch = ? AND active_rules.tick <= ? GROUP BY active_rules.rulebook, active_rules.rule, active_rules.branch) AS hitick ON active_rules.rulebook = hitick.rulebook AND active_rules.rule = hitick.rule AND active_rules.branch = hitick.branch AND active_rules.tick = hitick.tick) AS curactrule ON characters.avatar_rulebook = curactrule.rulebook LEFT OUTER JOIN rulebooks ON rulebooks.rulebook = characters.avatar_rulebook AND rulebooks.rule = curactrule.rule LEFT OUTER JOIN (SELECT avatar_rules_handled.character AS character, avatar_rules_handled.rulebook AS rulebook, avatar_rules_handled.rule AS rule, \"1\" AS handled \nFROM avatar_rules_handled \nWHERE avatar_rules_handled.branch = ? AND avatar_rules_handled.tick = ?) AS handle ON handle.character = characters.character AND handle.rulebook = characters.avatar_rulebook AND handle.rule = curactrule.rule \nWHERE handle.handled IS NULL ORDER BY characters.character, rulebooks.rulebook, rulebooks.idx",
    "poll_character_node_rules": "SELECT characters.character, characters.character_node_rulebook, curactrule.rule, curactrule.active, handle.handled \nFROM characters JOIN (SELECT active_rules.rulebook AS rulebook, active_rules.rule AS rule, active_rules.branch AS branch, active_rules.tick AS tick, active_rules.active AS active \nFROM active_rules JOIN (SELECT active_rules.rulebook AS rulebook, active_rules.rule AS rule, active_rules.branch AS branch, MAX(active_rules.tick) AS tick \nFROM active_rules \nWHERE active_rules.branch = ? AND active_rules.tick <= ? GROUP BY active_rules.rulebook, active_rules.rule, active_rules.branch) AS hitick ON active_rules.rulebook = hitick.rulebook AND active_rules.rule = hitick.rule AND active_rules.branch = hitick.branch AND active_rules.tick = hitick.tick) AS curactrule ON characters.character_node_rulebook = curactrule.rulebook LEFT OUTER JOIN rulebooks ON rulebooks.rulebook = characters.character_node_rulebook AND rulebooks.rule = curactrule.rule LEFT OUTER JOIN (SELECT character_node_rules_handled.character AS character, character_node_rules_handled.rulebook AS rulebook, character_node_rules_handled.rule AS rule, \"1\" AS handled \nFROM character_node_rules_handled \nWHERE character_node_rules_handled.branch = ? AND character_node_rules_handled.tick = ?) AS handle ON handle.character = characters.character AND handle.rulebook = characters.character_node_rulebook AND handle.rule = curactrule.rule \nWHERE handle.handled IS NULL ORDER BY characters.character, rulebooks.rulebook, rulebooks.idx",
    "poll_character_place_rules": "SELECT characters.character, characters.character_place_rulebook, curactrule.rule, curactrule.active, handle.handled \nFROM characters JOIN (SELECT active_rules.rulebook AS rulebook, active_rules.rule AS rule, active_rules.branch AS branch, active_rules.tick AS tick, active_rules.active AS active \nFROM active_rules JOIN (SELECT active_rules.rulebook AS rulebook, active_rules.rule AS rule, active_rules.branch AS branch, MAX(active_rules.tick) AS tick \nFROM active_rules \nWHERE active_rules.branch = ? AND active_rules.tick <= ? GROUP BY active_rules.rulebook, active_rules.rule, active_rules.branch) AS hitick ON active_rules.rulebook = hitick.rulebook AND active_rules.rule = hitick.rule AND active_rules.branch = hitick.branch AND active_rules.tick = hitick.tick) AS curactrule ON characters.character_place_rulebook = curactrule.rulebook LEFT OUTER JOIN rulebooks ON rulebooks.rulebook = characters.character_place_rulebook AND rulebooks.rule = curactrule.rule LEFT OUTER JOIN (SELECT character_place_rules_handled.character AS character, character_place_rules_handled.rulebook AS rulebook, character_place_rules_handled.rule AS rule, \"1\" AS handled \nFROM character_place_rules_handled \nWHERE character_place_rules_handled.branch = ? AND character_place_rules_handled.tick = ?) AS handle ON handle.character = characters.character AND handle.rulebook = characters.character_place_rulebook AND handle.rule = curactrule.rule \nWHERE handle.handled IS NULL ORDER BY characters.character, rulebooks.rulebook, rulebooks.idx",
    "poll_character_portal_rules": "SELECT characters.character, characters.character_portal_rulebook, curactrule.rule, curactrule.active, handle.handled \nFROM characters JOIN (SELECT active_rules.rulebook AS rulebook, active_rules.rule AS rule, active_rules.branch AS branch, active_rules.tick AS tick, active_rules.active AS active \nFROM active_rules JOIN (SELECT active_rules.rulebook AS rulebook, active_rules.rule AS rule, active_rules.branch AS branch, MAX(active_rules.tick) AS tick \nFROM active_rules \nWHERE active_rules.branch = ? AND active_rules.tick <= ? GROUP BY active_rules.rulebook, active_rules.rule, active_rules.branch) AS hitick ON active_rules.rulebook = hitick.rulebook AND active_rules.rule = hitick.rule AND active_rules.branch = hitick.branch AND active_rules.tick = hitick.tick) AS curactrule ON characters.character_portal_rulebook = curactrule.rulebook LEFT OUTER JOIN rulebooks ON rulebooks.rulebook = characters.character_portal_rulebook AND rulebooks.rule = curactrule.rule LEFT OUTER JOIN (SELECT character_portal_rules_handled.character AS character, character_portal_rules_handled.rulebook AS rulebook, character_portal_rules_handled.rule AS rule, \"1\" AS handled \nFROM character_portal_rules_handled \nWHERE character_portal_rules_handled.branch = ? AND character_portal_rules_handled.tick = ?) AS handle ON handle.character = characters.character AND handle.rulebook = characters.character_portal_rulebook AND handle.rule = curactrule.rule \nWHERE handle.handled IS NULL ORDER BY characters.character, rulebooks.rulebook, rulebooks.idx",
    "poll_character_rules": "SELECT characters.character, characters.character_rulebook, curactrule.rule, curactrule.active, handle.handled \nFROM characters JOIN (SELECT active_rules.rulebook AS rulebook, active_rules.rule AS rule, active_rules.branch AS branch, active_rules.tick AS tick, active_rules.active AS active \nFROM active_rules JOIN (SELECT active_rules.rulebook AS rulebook, active_rules.rule AS rule, active_rules.branch AS branch, MAX(active_rules.tick) AS tick \nFROM active_rules \nWHERE active_rules.branch = ? AND active_rules.tick <= ? GROUP BY active_rules.rulebook, active_rules.rule, active_rules.branch) AS hitick ON active_rules.rulebook = hitick.rulebook AND active_rules.rule = hitick.rule AND active_rules.branch = hitick.branch AND active_rules.tick = hitick.tick) AS curactrule ON characters.character_rulebook = curactrule.rulebook LEFT OUTER JOIN rulebooks ON rulebooks.rulebook = characters.character_rulebook AND rulebooks.rule = curactrule.rule LEFT OUTER JOIN (SELECT character_rules_handled.character AS character, character_rules_handled.rulebook AS rulebook, character_rules_handled.rule AS rule, \"1\" AS handled \nFROM character_rules_handled \nWHERE character_rules_handled.branch = ? AND character_rules_handled.tick = ?) AS handle ON handle.character = characters.character AND handle.rulebook = characters.character_rulebook AND handle.rule = curactrule.rule \nWHERE handle.handled IS NULL ORDER BY characters.character, rulebooks.rulebook, rulebooks.idx",
    "poll_character_thing_rules": "SELECT characters.character, characters.character_thing_rulebook, curactrule.rule, curactrule.active, handle.handled \nFROM characters JOIN (SELECT active_rules.rulebook AS rulebook, active_rules.rule AS rule, active_rules.branch AS branch, active_rules.tick AS tick, active_rules.active AS active \nFROM active_rules JOIN (SELECT active_rules.rulebook AS rulebook, active_rules.rule AS rule, active_rules.branch AS branch, MAX(active_rules.tick) AS tick \nFROM active_rules \nWHERE active_rules.branch = ? AND active_rules.tick <= ? GROUP BY active_rules.rulebook, active_rules.rule, active_rules.branch) AS hitick ON active_rules.rulebook = hitick.rulebook AND active_rules.rule = hitick.rule AND active_rules.branch = hitick.branch AND active_rules.tick = hitick.tick) AS curactrule ON characters.character_thing_rulebook = curactrule.rulebook LEFT OUTER JOIN rulebooks ON rulebooks.rulebook = characters.character_thing_rulebook AND rulebooks.rule = curactrule.rule LEFT OUTER JOIN (SELECT character_thing_rules_handled.character AS character, character_thing_rules_handled.rulebook AS rulebook, character_thing_rules_handled.rule AS rule, \"1\" AS handled \nFROM character_thing_rules_handled \nWHERE character_thing_rules_handled.branch = ? AND character_thing_rules_handled.tick = ?) AS handle ON handle.character = characters.character AND handle.rulebook = characters.character_thing_rulebook AND handle.rule = curactrule.rule \nWHERE handle.handled IS NULL ORDER BY characters.character, rulebooks.rulebook, rulebooks.idx",
    "poll_node_rules": "SELECT node_rulebook.character, node_rulebook.node, node_rulebook.rulebook, curactrule.rule, curactrule.active \nFROM node_rulebook JOIN rulebooks ON rulebooks.rulebook = node_rulebook.rulebook JOIN (SELECT active_rules.rulebook AS rulebook, active_rules.rule AS rule, active_rules.branch AS branch, active_rules.tick AS tick, active_rules.active AS active \nFROM active_rules JOIN (SELECT active_rules.rulebook AS rulebook, active_rules.rule AS rule, active_rules.branch AS branch, MAX(active_rules.tick) AS tick \nFROM active_rules \nWHERE active_rules.branch = ? AND active_rules.tick <= ? GROUP BY active_rules.rulebook, active_rules.rule, active_rules.branch) AS hitick ON active_rules.rulebook = hitick.rulebook AND active_rules.rule = hitick.rule AND active_rules.branch = hitick.branch AND active_rules.tick = hitick.tick) AS curactrule ON rulebooks.rulebook = curactrule.rulebook AND rulebooks.rule = curactrule.rule LEFT OUTER JOIN (SELECT character AS character, node AS node, rulebook AS rulebook, rule AS rule, \"1\" AS handled \nFROM (SELECT place_rules_handled.character AS character, place_rules_handled.place AS node, place_rules_handled.rulebook AS rulebook, place_rules_handled.rule AS rule, place_rules_handled.branch AS branch, place_rules_handled.tick AS tick \nFROM place_rules_handled UNION SELECT thing_rules_handled.character AS character, thing_rules_handled.thing AS node, thing_rules_handled.rulebook AS rulebook, thing_rules_handled.rule AS rule, thing_rules_handled.branch AS branch, thing_rules_handled.tick AS tick \nFROM thing_rules_handled) \nWHERE branch = ? AND tick = ?) AS nrhandle ON node_rulebook.character = nrhandle.character AND node_rulebook.node = nrhandle.node AND node_rulebook.rulebook = nrhandle.rulebook AND curactrule.rule = nrhandle.rule \nWHERE nrhandle.handled IS NULL ORDER BY node_rulebook.character, node_rulebook.node, rulebooks.rulebook, rulebooks.idx",
    "poll_portal_rules": "SELECT portal_rulebook.character, portal_rulebook.\"nodeA\", portal_rulebook.\"nodeB\", portal_rulebook.idx, curactrule.rule, curactrule.active, handle.handled \nFROM portal_rulebook JOIN (SELECT active_rules.rulebook AS rulebook, active_rules.rule AS rule, active_rules.branch AS branch, active_rules.tick AS tick, active_rules.active AS active \nFROM active_rules JOIN (SELECT active_rules.rulebook AS rulebook, active_rules.rule AS rule, active_rules.branch AS branch, MAX(active_rules.tick) AS tick \nFROM active_rules \nWHERE active_rules.branch = ? AND active_rules.tick <= ? GROUP BY active_rules.rulebook, active_rules.rule, active_rules.branch) AS hitick ON active_rules.rulebook = hitick.rulebook AND active_rules.rule = hitick.rule AND active_rules.branch = hitick.branch AND active_rules.tick = hitick.tick) AS curactrule ON portal_rulebook.rulebook = curactrule.rulebook LEFT OUTER JOIN rulebooks ON rulebooks.rulebook = portal_rulebook.rulebook AND rulebooks.rule = curactrule.rule LEFT OUTER JOIN (SELECT portal_rules_handled.character AS character, portal_rules_handled.\"nodeA\" AS \"nodeA\", portal_rules_handled.\"nodeB\" AS \"nodeB\", portal_rules_handled.idx AS idx, portal_rules_handled.rulebook AS rulebook, portal_rules_handled.rule AS rule, \"1\" AS handled \nFROM portal_rules_handled \nWHERE portal_rules_handled.branch = ? AND portal_rules_handled.tick = ?) AS handle ON handle.character = portal_rulebook.character AND handle.\"nodeA\" = portal_rulebook.\"nodeA\" AND handle.\"nodeB\" = portal_rulebook.\"nodeB\" AND handle.idx = portal_rulebook.idx AND handle.rulebook = portal_rulebook.rulebook AND handle.rule = curactrule.rule \nWHERE handle.handled IS NULL ORDER BY portal_rulebook.character, portal_rulebook.\"nodeA\", portal_rulebook.\"nodeB\", portal_rulebook.idx, rulebooks.rulebook, rulebooks.idx",
    "portal_rulebook": "SELECT portal_rulebook.rulebook \nFROM portal_rulebook \nWHERE portal_rulebook.character = ? AND portal_rulebook.\"nodeA\" = ? AND portal_rulebook.\"nodeB\" = ? AND portal_rulebook.idx = ?",
    "portal_rules": "SELECT portal_rulebook.character, portal_rulebook.\"nodeA\", portal_rulebook.\"nodeB\", portal_rulebook.idx, curactrule.rule, curactrule.active, handle.handled \nFROM portal_rulebook JOIN (SELECT active_rules.rulebook AS rulebook, active_rules.rule AS rule, active_rules.branch AS branch, active_rules.tick AS tick, active_rules.active AS active \nFROM active_rules JOIN (SELECT active_rules.rulebook AS rulebook, active_rules.rule AS rule, active_rules.branch AS branch, MAX(active_rules.tick) AS tick \nFROM active_rules \nWHERE active_rules.branch = ? AND active_rules.tick <= ? GROUP BY active_rules.rulebook, active_rules.rule, active_rules.branch) AS hitick ON active_rules.rulebook = hitick.rulebook AND active_rules.rule = hitick.rule AND active_rules.branch = hitick.branch AND active_rules.tick = hitick.tick) AS curactrule ON portal_rulebook.rulebook = curactrule.rulebook LEFT OUTER JOIN rulebooks ON rulebooks.rulebook = portal_rulebook.rulebook AND rulebooks.rule = curactrule.rule LEFT OUTER JOIN (SELECT portal_rules_handled.character AS character, portal_rules_handled.\"nodeA\" AS \"nodeA\", portal_rules_handled.\"nodeB\" AS \"nodeB\", portal_rules_handled.idx AS idx, portal_rules_handled.rulebook AS rulebook, portal_rules_handled.rule AS rule, \"1\" AS handled \nFROM portal_rules_handled \nWHERE portal_rules_handled.branch = ? AND portal_rules_handled.tick = ?) AS handle ON handle.character = portal_rulebook.character AND handle.\"nodeA\" = portal_rulebook.\"nodeA\" AND handle.\"nodeB\" = portal_rulebook.\"nodeB\" AND handle.idx = portal_rulebook.idx AND handle.rulebook = portal_rulebook.rulebook AND handle.rule = curactrule.rule \nWHERE handle.handled IS NULL AND portal_rulebook.character = ? AND portal_rulebook.\"nodeA\" = ? AND portal_rulebook.\"nodeB\" = ? AND portal_rulebook.idx = ? ORDER BY portal_rulebook.character, portal_rulebook.\"nodeA\", portal_rulebook.\"nodeB\", portal_rulebook.idx, rulebooks.rulebook, rulebooks.idx",
    "portals_rulebooks": "SELECT portal_rulebook.character, portal_rulebook.\"nodeA\", portal_rulebook.\"nodeB\", portal_rulebook.rulebook \nFROM portal_rulebook",
    "rule_actions": "SELECT rule_actions.action, actions.keywords, actions.bytecode, actions.plaincode \nFROM rule_actions, actions \nWHERE rule_actions.rule = ? AND rule_actions.action = actions.name ORDER BY rule_actions.idx",
    "rule_actions_count": "SELECT count(rule_actions.idx) AS count_1 \nFROM rule_actions \nWHERE rule_actions.rule = ?",
    "rule_actions_dec": "UPDATE rule_actions SET idx=(rule_actions.idx + 1) WHERE rule_actions.rule = ? AND rule_actions.idx > ?",
    "rule_actions_del": "DELETE FROM rule_actions WHERE rule_actions.rule = ? AND rule_actions.idx = ?",
    "rule_actions_del_all": "DELETE FROM rule_actions WHERE rule_actions.rule = ?",
    "rule_actions_inc": "UPDATE rule_actions SET idx=(rule_actions.idx + 1) WHERE rule_actions.rule = ? AND rule_actions.idx >= ?",
    "rule_actions_ins": "INSERT INTO rule_actions (rule, idx, action) VALUES (?, ?, ?)",
    "rule_prereqs": "SELECT rule_prereqs.prereq, prereqs.keywords, prereqs.bytecode, prereqs.plaincode \nFROM rule_prereqs, prereqs \nWHERE rule_prereqs.rule = ? AND rule_prereqs.prereq = prereqs.name ORDER BY rule_prereqs.idx",
    "rule_prereqs_count": "SELECT count(rule_prereqs.idx) AS count_1 \nFROM rule_prereqs \nWHERE rule_prereqs.rule = ?",
    "rule_prereqs_dec": "UPDATE rule_prereqs SET idx=(rule_prereqs.idx + 1) WHERE rule_prereqs.rule = ? AND rule_prereqs.idx > ?",
    "rule_prereqs_del": "DELETE FROM rule_prereqs WHERE rule_prereqs.rule = ? AND rule_prereqs.idx = ?",
    "rule_prereqs_del_all": "DELETE FROM rule_prereqs WHERE rule_prereqs.rule = ?",
    "rule_prereqs_inc": "UPDATE rule_prereqs SET idx=(rule_prereqs.idx + 1) WHERE rule_prereqs.rule = ? AND rule_prereqs.idx >= ?",
    "rule_prereqs_ins": "INSERT INTO rule_prereqs (rule, idx, prereq) VALUES (?, ?, ?)",
    "rule_triggers": "SELECT rule_triggers.\"trigger\", triggers.keywords, triggers.bytecode, triggers.plaincode \nFROM rule_triggers, triggers \nWHERE rule_triggers.rule = ? AND rule_triggers.\"trigger\" = triggers.name ORDER BY rule_triggers.idx",
    "rule_triggers_count": "SELECT count(rule_triggers.idx) AS count_1 \nFROM rule_triggers \nWHERE rule_triggers.rule = ?",
    "rule_triggers_dec": "UPDATE rule_triggers SET idx=(rule_triggers.idx + 1) WHERE rule_triggers.rule = ? AND rule_triggers.idx > ?",
    "rule_triggers_del": "DELETE FROM rule_triggers WHERE rule_triggers.rule = ? AND rule_triggers.idx = ?",
    "rule_triggers_del_all": "DELETE FROM rule_triggers WHERE rule_triggers.rule = ?",
    "rule_triggers_inc": "UPDATE rule_triggers SET idx=(rule_triggers.idx + 1) WHERE rule_triggers.rule = ? AND rule_triggers.idx >= ?",
    "rule_triggers_ins": "INSERT INTO rule_triggers (rule, idx, \"trigger\") VALUES (?, ?, ?)",
    "rulebook_dec": "UPDATE rulebooks SET idx=(rulebooks.idx - 1) WHERE rulebooks.rulebook = ? AND rulebooks.idx > ?",
    "rulebook_del": "DELETE FROM rulebooks WHERE rulebooks.rulebook = ? AND rulebooks.idx = ?",
    "rulebook_get": "SELECT rulebooks.rule \nFROM rulebooks \nWHERE rulebooks.rulebook = ? AND rulebooks.idx = ?",
    "rulebook_get_avatar": "SELECT characters.avatar_rulebook \nFROM characters \nWHERE characters.character = ?",
    "rulebook_get_character": "SELECT characters.character_rulebook \nFROM characters \nWHERE characters.character = ?",
    "rulebook_get_character_node": "SELECT characters.character_node_rulebook \nFROM characters \nWHERE characters.character = ?",
    "rulebook_get_character_place": "SELECT characters.character_place_rulebook \nFROM characters \nWHERE characters.character = ?",
    "rulebook_get_character_portal": "SELECT characters.character_portal_rulebook \nFROM characters \nWHERE characters.character = ?",
    "rulebook_get_character_thing": "SELECT characters.character_thing_rulebook \nFROM characters \nWHERE characters.character = ?",
    "rulebook_inc": "UPDATE rulebooks SET idx=(rulebooks.idx + ?) WHERE rulebooks.rulebook = ? AND rulebooks.idx >= ?",
    "rulebook_ins": "INSERT INTO rulebooks (rulebook, idx, rule) VALUES (?, ?, ?)",
    "rulebook_rules": "SELECT rulebooks.rule \nFROM rulebooks \nWHERE rulebooks.rulebook = ? ORDER BY rulebooks.idx",
    "rulebook_upd": "UPDATE rulebooks SET rule=? WHERE rulebooks.rulebook = ? AND rulebooks.idx = ?",
    "rulebooks": "SELECT rulebooks.rulebook \nFROM rulebooks",
    "rulebooks_rules": "SELECT rulebooks.rulebook, rulebooks.rule \nFROM rulebooks ORDER BY rulebooks.idx",
    "ruledel": "DELETE FROM rules WHERE rules.rule = ?",
    "ruleins": "INSERT INTO rules (rule) VALUES (?)",
    "sense_active_items": "SELECT senses.sense, senses.active \nFROM senses JOIN (SELECT senses.character AS character, senses.sense AS sense, senses.branch AS branch, MAX(senses.tick) AS tick \nFROM senses \nWHERE (senses.character IS NULL OR senses.character = ?) AND senses.tick <= ? AND senses.branch = ? GROUP BY senses.character, senses.sense, senses.branch) AS hitick ON senses.character = hitick.character AND senses.sense = hitick.sense AND senses.branch = hitick.branch AND senses.tick = hitick.tick",
    "sense_fun_ins": "INSERT INTO senses (character, sense, branch, tick, function, active) VALUES (?, ?, ?, ?, ?, ?)",
    "sense_fun_upd": "UPDATE senses SET function=?, active=? WHERE senses.character = ? AND senses.sense = ? AND senses.branch = ? AND senses.tick = ?",
    "sense_func_get": "SELECT senses.function \nFROM senses JOIN (SELECT senses.character AS character, senses.sense AS sense, senses.branch AS branch, MAX(senses.tick) AS tick \nFROM senses \nWHERE senses.character = ? AND senses.sense = ? AND senses.branch = ? AND senses.tick <= ? GROUP BY senses.character, senses.sense, senses.branch) AS hitick ON senses.character = hitick.character AND senses.sense = hitick.sense AND senses.branch = hitick.branch AND senses.tick = hitick.tick",
    "sense_ins": "INSERT INTO senses (character, sense, branch, tick, active) VALUES (?, ?, ?, ?, ?)",
    "sense_is_active": "SELECT senses.active \nFROM senses JOIN (SELECT senses.character AS character, senses.sense AS sense, senses.branch AS branch, MAX(senses.tick) AS tick \nFROM senses \nWHERE (senses.character IS NULL OR senses.character = ?) AND senses.tick <= ? AND senses.sense = ? AND senses.branch = ? GROUP BY senses.character, senses.sense, senses.branch) AS hitick ON senses.character = hitick.character AND senses.sense = hitick.sense AND senses.branch = hitick.branch AND senses.tick = hitick.tick",
    "sense_upd": "UPDATE senses SET active=? WHERE senses.character = ? AND senses.sense = ? AND senses.branch = ? AND senses.tick = ?",
    "strings_del": "DELETE FROM strings WHERE strings.language = ? AND strings.id = ?",
    "strings_get": "SELECT strings.string \nFROM strings \nWHERE strings.language = ? AND strings.id = ?",
    "strings_ins": "INSERT INTO strings (id, language, string) VALUES (?, ?, ?)",
    "strings_lang_items": "SELECT strings.id, strings.string \nFROM strings \nWHERE strings.language = ? ORDER BY strings.id",
    "strings_upd": "UPDATE strings SET string=? WHERE strings.language = ? AND strings.id = ?",
    "thing_and_loc": "SELECT things.thing, things.location \nFROM things JOIN (SELECT things.character AS character, things.thing AS thing, things.branch AS branch, MAX(things.tick) AS tick \nFROM things \nWHERE things.character = ? AND things.thing = ? AND things.branch = ? AND things.tick <= ? GROUP BY things.character, things.thing, things.branch) AS hitick ON things.character = hitick.character AND things.thing = hitick.thing AND things.branch = hitick.branch AND things.tick = hitick.tick LEFT OUTER JOIN (SELECT nodes.graph AS graph, nodes.node AS node, nodes.branch AS branch, nodes.rev AS rev, nodes.extant AS extant \nFROM nodes JOIN (SELECT nodes.graph AS graph, nodes.node AS node, nodes.branch AS branch, MAX(nodes.rev) AS rev \nFROM nodes \nWHERE nodes.rev <= ? AND nodes.graph = ? AND nodes.node = ? AND nodes.branch = ? GROUP BY nodes.graph, nodes.node, nodes.branch) AS ext_hirev ON nodes.graph = ext_hirev.graph AND nodes.node = ext_hirev.node AND nodes.branch = ext_hirev.branch AND nodes.rev = ext_hirev.rev) AS existence ON things.character = existence.graph AND things.thing = existence.node \nWHERE existence.extant = 1",
    "thing_loc_and_next_get": "SELECT things.location, things.next_location \nFROM things JOIN (SELECT things.character AS character, things.thing AS thing, things.branch AS branch, MAX(things.tick) AS tick \nFROM things \nWHERE things.character = ? AND things.thing = ? AND things.branch = ? AND things.tick <= ? GROUP BY things.character, things.thing, things.branch) AS hitick ON things.character = hitick.character AND things.thing = hitick.thing AND things.branch = hitick.branch AND things.tick = hitick.tick",
    "thing_loc_and_next_ins": "INSERT INTO things (character, thing, branch, tick, location, next_location) VALUES (?, ?, ?, ?, ?, ?)",
    "thing_loc_and_next_upd": "UPDATE things SET location=?, next_location=? WHERE things.character = ? AND things.thing = ? AND things.branch = ? AND things.tick = ?",
    "thing_loc_items": "SELECT things.thing, things.location \nFROM things JOIN (SELECT things.character AS character, things.thing AS thing, things.branch AS branch, MAX(things.tick) AS tick \nFROM things \nWHERE things.character = ? AND things.branch = ? AND things.tick <= ? GROUP BY things.character, things.thing, things.branch) AS hitick ON things.character = hitick.character AND things.thing = hitick.thing AND things.branch = hitick.branch AND things.tick = hitick.tick LEFT OUTER JOIN (SELECT nodes.graph AS graph, nodes.node AS node, nodes.branch AS branch, nodes.rev AS rev, nodes.extant AS extant \nFROM nodes JOIN (SELECT nodes.graph AS graph, nodes.node AS node, nodes.branch AS branch, MAX(nodes.rev) AS rev \nFROM nodes \nWHERE nodes.rev <= ? AND nodes.graph = ? AND nodes.branch = ? GROUP BY nodes.graph, nodes.node, nodes.branch) AS ext_hirev ON nodes.graph = ext_hirev.graph AND nodes.node = ext_hirev.node AND nodes.branch = ext_hirev.branch AND nodes.rev = ext_hirev.rev) AS existence ON things.character = existence.graph AND things.thing = existence.node \nWHERE existence.extant = 1",
    "thing_locs_branch_data": "SELECT things.tick, things.location, things.next_location \nFROM things \nWHERE things.character = ? AND things.thing = ? AND things.branch = ?",
    "things_dump": "SELECT things.character, things.thing, things.branch, things.tick, things.location, things.next_location \nFROM things",
    "travel_reqs": "SELECT travel_reqs.reqs \nFROM travel_reqs \nWHERE travel_reqs.character = ?",
    "universal_get": "SELECT lise_globals.value \nFROM lise_globals, (SELECT lise_globals.\"key\" AS \"key\", lise_globals.branch AS branch, MAX(lise_globals.tick) AS tick \nFROM lise_globals \nWHERE lise_globals.\"key\" = ? AND lise_globals.branch = ? AND lise_globals.tick <= ? GROUP BY lise_globals.\"key\", lise_globals.branch)",
    "universal_ins": "INSERT INTO lise_globals (\"key\", branch, tick, value) VALUES (?, ?, ?, ?)",
    "universal_items": "SELECT lise_globals.\"key\", lise_globals.value \nFROM lise_globals, (SELECT lise_globals.\"key\" AS \"key\", lise_globals.branch AS branch, MAX(lise_globals.tick) AS tick \nFROM lise_globals \nWHERE lise_globals.branch = ? AND lise_globals.tick <= ? GROUP BY lise_globals.\"key\", lise_globals.branch)",
    "universal_upd": "UPDATE lise_globals SET value=? WHERE lise_globals.\"key\" = ? AND lise_globals.branch = ? AND lise_globals.tick = ?",
    "upd_node_rulebook": "UPDATE node_rulebook SET rulebook=? WHERE node_rulebook.character = ? AND node_rulebook.node = ?",
    "upd_portal_rulebook": "UPDATE portal_rulebook SET rulebook=? WHERE portal_rulebook.character = ? AND portal_rulebook.\"nodeA\" = ? AND portal_rulebook.\"nodeB\" = ? AND portal_rulebook.idx = ?",
    "upd_rule": "UPDATE rules SET date=?, creator=?, description=? WHERE rules.rule = ?",
    "upd_rulebook_avatar": "UPDATE characters SET avatar_rulebook=? WHERE characters.character = ?",
    "upd_rulebook_character": "UPDATE characters SET character_rulebook=? WHERE characters.character = ?",
    "upd_rulebook_character_place": "UPDATE characters SET character_place_rulebook=? WHERE characters.character = ?",
    "upd_rulebook_character_portal": "UPDATE characters SET character_portal_rulebook=? WHERE characters.character = ?",
    "upd_rulebook_character_thing": "UPDATE characters SET character_thing_rulebook=? WHERE characters.character = ?",
    "upd_travel_reqs": "UPDATE travel_reqs SET reqs=? WHERE travel_reqs.character = ?",
    "view_node_rules_handled": "CREATE VIEW node_rules_handled AS SELECT place_rules_handled.character, place_rules_handled.place AS node, place_rules_handled.rulebook, place_rules_handled.rule, place_rules_handled.branch, place_rules_handled.tick \nFROM place_rules_handled UNION SELECT thing_rules_handled.character, thing_rules_handled.thing AS node, thing_rules_handled.rulebook, thing_rules_handled.rule, thing_rules_handled.branch, thing_rules_handled.tick \nFROM thing_rules_handled"
}
